<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>InsightAtlas - The Main Reality Of Life</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        :root {
            --primary: #4361ee;
            --primary-dark: #3a56d4;
            --secondary: #ffd166;
            --dark-bg: #121212;
            --dark-card: #1e1e1e;
            --dark-text: #f1f5f9;
            --light-bg: #f8fafc;
            --light-card: #ffffff;
            --light-text: #1e293b;
            --accent: #ff6b6b;
            --premium: #ffb700;
            --gray: #94a3b8;
            --success: #06d6a0;
            --warning: #ffd166;
            --danger: #ef476f;
            --gold: #ffb700;
            --shadow: 0 4px 12px rgba(0, 0, 0, 0.08);
            --border-radius: 12px;
        }
        
        body {
            background-color: var(--dark-bg);
            color: var(--dark-text);
            transition: background-color 0.3s ease;
            padding-bottom: 80px;
            min-height: 100vh;
        }
        
        body.light-mode {
            background-color: var(--light-bg);
            color: var(--light-text);
        }
        
        body.light-mode .book-card,
        body.light-mode header,
        body.light-mode .bottom-nav,
        body.light-mode .section-content,
        body.light-mode .about-section,
        body.light-mode .offline-section,
        body.light-mode .settings-section,
        body.light-mode .profile-section {
            background-color: var(--light-card);
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 15px;
        }
        
        /* Auth Container */
        .auth-container {
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            padding: 20px;
        }
        
        .auth-box {
            width: 100%;
            max-width: 450px;
            background-color: var(--dark-card);
            border-radius: var(--border-radius);
            box-shadow: var(--shadow);
            padding: 30px;
        }
        
        .auth-header {
            text-align: center;
            margin-bottom: 30px;
        }
        
        .logo-text {
            font-size: 32px;
            font-weight: bold;
            background: linear-gradient(90deg, #4361ee, #ff6b6b);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            letter-spacing: 1px;
            margin-bottom: 10px;
            font-family: 'Montserrat', sans-serif;
        }
        
        .auth-subtitle {
            color: var(--gray);
            font-size: 16px;
        }
        
        .form-group {
            margin-bottom: 20px;
        }
        
        .form-group label {
            display: block;
            margin-bottom: 8px;
            font-weight: 500;
            color: var(--gray);
        }
        
        .form-control {
            width: 100%;
            padding: 14px;
            border-radius: 8px;
            border: 1px solid rgba(255, 255, 255, 0.2);
            background-color: rgba(255, 255, 255, 0.05);
            color: var(--dark-text);
            font-size: 16px;
        }
        
        .form-control:focus {
            border-color: var(--primary);
            outline: none;
            background-color: rgba(67, 97, 238, 0.1);
        }
        
        .password-container {
            position: relative;
        }
        
        .toggle-password {
            position: absolute;
            right: 12px;
            top: 50%;
            transform: translateY(-50%);
            cursor: pointer;
            color: var(--gray);
        }
        
        .btn {
            display: block;
            width: 100%;
            padding: 15px;
            border-radius: 8px;
            border: none;
            font-weight: 600;
            font-size: 16px;
            cursor: pointer;
            transition: all 0.3s ease;
            text-align: center;
        }
        
        .btn-primary {
            background: linear-gradient(135deg, var(--primary), var(--accent));
            color: white;
            margin-bottom: 15px;
        }
        
        .btn-primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 15px rgba(67, 97, 238, 0.3);
        }
        
        .auth-footer {
            text-align: center;
            margin-top: 20px;
            color: var(--gray);
            font-size: 14px;
        }
        
        .auth-footer a {
            color: var(--primary);
            text-decoration: none;
            font-weight: 600;
        }
        
        .auth-footer a:hover {
            text-decoration: underline;
        }
        
        .forgot-password {
            display: block;
            text-align: right;
            margin: 5px 0 20px;
            color: var(--gray);
            font-size: 14px;
            text-decoration: none;
        }
        
        .forgot-password:hover {
            color: var(--primary);
            text-decoration: underline;
        }
        
        .error-message {
            color: var(--danger);
            font-size: 14px;
            margin-top: 5px;
            display: none;
        }
        
        .success-message {
            color: var(--success);
            font-size: 14px;
            margin-top: 5px;
            display: none;
        }
        
        /* Main App Container */
        .app-container {
            display: none;
        }
        
        header {
            background-color: var(--dark-card);
            padding: 15px 0;
            position: sticky;
            top: 0;
            z-index: 100;
            box-shadow: var(--shadow);
        }
        
        .light-mode header {
            background-color: var(--light-card);
        }
        
        .header-content {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .logo {
            display: flex;
            align-items: center;
            cursor: pointer;
        }
        
        .user-avatar {
            width: 36px;
            height: 36px;
            border-radius: 50%;
            background: linear-gradient(135deg, var(--primary), var(--accent));
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: bold;
            cursor: pointer;
            position: relative;
        }
        
        .notification-bell {
            position: relative;
            cursor: pointer;
            font-size: 20px;
            color: var(--gray);
            margin-right: 15px;
        }
        
        .notification-badge {
            position: absolute;
            top: -5px;
            right: -5px;
            background-color: var(--danger);
            color: white;
            border-radius: 50%;
            width: 18px;
            height: 18px;
            font-size: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        .hero-section {
            padding: 30px 0;
            text-align: center;
            background: linear-gradient(135deg, #1a1a2e, #16213e);
            border-radius: 0 0 30px 30px;
            margin-bottom: 30px;
        }
        
        .light-mode .hero-section {
            background: linear-gradient(135deg, #e0e7ff, #dbeafe);
        }
        
        .hero-title {
            font-size: 28px;
            margin-bottom: 15px;
            background: linear-gradient(90deg, var(--accent), var(--primary));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }
        
        .hero-subtitle {
            color: var(--gray);
            margin-bottom: 25px;
            max-width: 600px;
            margin-left: auto;
            margin-right: auto;
        }
        
        .section-title {
            font-size: 20px;
            margin: 25px 0 15px;
            padding-left: 10px;
            border-left: 4px solid var(--accent);
        }
        
        .book-card {
            background-color: var(--dark-card);
            border-radius: var(--border-radius);
            overflow: hidden;
            box-shadow: var(--shadow);
            transition: transform 0.3s ease, box-shadow 0.3s ease;
            cursor: pointer;
            max-width: 400px;
            margin: 0 auto;
        }
        
        .light-mode .book-card {
            background-color: var(--light-card);
        }
        
        .book-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 20px rgba(0, 0, 0, 0.2);
        }
        
        .book-cover {
            height: 300px;
            position: relative;
            overflow: hidden;
            display: flex;
            align-items: center;
            justify-content: center;
            background: #2c2c2c;
            color: white;
            text-align: center;
            padding: 20px;
            font-weight: bold;
            line-height: 1.4;
            flex-direction: column;
        }
        
        .cover-title {
            font-size: 32px;
            font-weight: 800;
            margin-bottom: 10px;
            font-family: 'Merriweather', serif;
            text-shadow: 0 2px 4px rgba(0,0,0,0.5);
        }
        
        .cover-author {
            font-size: 20px;
            font-style: italic;
            text-shadow: 0 1px 2px rgba(0,0,0,0.5);
        }
        
        .book-info {
            padding: 20px;
            text-align: center;
        }
        
        .book-title {
            font-size: 24px;
            font-weight: 700;
            margin-bottom: 10px;
        }
        
        .book-author {
            font-size: 16px;
            color: var(--gray);
            margin-bottom: 15px;
        }
        
        .book-price {
            font-size: 22px;
            font-weight: 700;
            color: var(--premium);
            margin-bottom: 15px;
        }
        
        .book-actions {
            display: flex;
            gap: 10px;
            justify-content: center;
        }
        
        .btn-read {
            background: linear-gradient(135deg, var(--primary), var(--accent));
            color: white;
            padding: 10px 20px;
            border-radius: 20px;
            border: none;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.2s ease;
        }
        
        .btn-read:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 15px rgba(67, 97, 238, 0.3);
        }
        
        .btn-buy {
            background: linear-gradient(135deg, var(--success), #05b388);
            color: white;
            padding: 10px 20px;
            border-radius: 20px;
            border: none;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.2s ease;
        }
        
        .btn-buy:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 15px rgba(5, 179, 136, 0.3);
        }
        
        .reader-container {
            max-width: 800px;
            margin: 20px auto;
            padding: 0 20px;
            display: none;
        }
        
        .reader-header {
            text-align: center;
            margin-bottom: 32px;
        }
        
        .reader-book-cover {
            width: 180px;
            height: 240px;
            border-radius: 12px;
            margin: 0 auto 20px;
            display: flex;
            align-items: center;
            justify-content: center;
            background: #2c2c2c;
            color: white;
            text-align: center;
            padding: 20px;
            font-weight: bold;
            line-height: 1.4;
            box-shadow: var(--shadow);
            flex-direction: column;
        }
        
        .reader-title {
            font-size: 32px;
            font-weight: 800;
            margin-bottom: 8px;
        }
        
        .reader-author {
            font-size: 18px;
            color: var(--gray);
            margin-bottom: 24px;
        }
        
        .reader-content {
            line-height: 1.8;
            font-size: 18px;
            padding: 20px 0;
            font-family: 'Merriweather', Georgia, serif;
        }
        
        .reader-content h1, 
        .reader-content h2, 
        .reader-content h3 {
            margin: 32px 0 16px;
            color: var(--accent);
            font-family: 'Montserrat', sans-serif;
        }
        
        .reader-content p {
            margin-bottom: 24px;
            letter-spacing: 0.3px;
        }
        
        .free-access {
            position: relative;
        }
        
        .free-access::after {
            content: "";
            position: absolute;
            bottom: 0;
            left: 0;
            right: 0;
            height: 100px;
            background: linear-gradient(to bottom, rgba(30, 41, 59, 0.1), var(--dark-bg));
            pointer-events: none;
        }
        
        .light-mode .free-access::after {
            background: linear-gradient(to bottom, rgba(248, 250, 252, 0.1), var(--light-bg));
        }
        
        .upgrade-box {
            background: linear-gradient(135deg, #ffb700, #ffd166);
            border-radius: var(--border-radius);
            padding: 32px;
            text-align: center;
            margin: 48px 0;
            box-shadow: var(--shadow);
        }
        
        .upgrade-title {
            font-size: 28px;
            font-weight: 800;
            margin-bottom: 16px;
            color: #1e293b;
        }
        
        .upgrade-price {
            font-size: 36px;
            font-weight: 800;
            color: #1e293b;
            margin-bottom: 24px;
        }
        
        .btn-upgrade {
            background-color: #1e293b;
            color: white;
            padding: 16px 40px;
            border-radius: 8px;
            border: none;
            font-weight: 700;
            font-size: 18px;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: var(--shadow);
        }
        
        .btn-upgrade:hover {
            background-color: #0f172a;
            transform: translateY(-3px);
        }
        
        .bottom-nav {
            position: fixed;
            bottom: 0;
            left: 0;
            right: 0;
            background-color: var(--dark-card);
            display: flex;
            justify-content: space-around;
            padding: 12px 0;
            box-shadow: 0 -2px 10px rgba(0, 0, 0, 0.2);
            z-index: 100;
        }
        
        .light-mode .bottom-nav {
            background-color: var(--light-card);
        }
        
        .nav-item {
            display: flex;
            flex-direction: column;
            align-items: center;
            color: var(--gray);
            text-decoration: none;
            font-size: 12px;
            transition: all 0.2s ease;
        }
        
        .nav-item.active {
            color: var(--accent);
        }
        
        .nav-icon {
            font-size: 20px;
            margin-bottom: 4px;
        }
        
        .locked-content {
            display: none;
        }
        
        /* Welcome Modal */
        .welcome-modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.8);
            z-index: 1000;
            align-items: center;
            justify-content: center;
        }
        
        .welcome-content {
            background-color: var(--dark-card);
            border-radius: var(--border-radius);
            padding: 40px;
            width: 90%;
            max-width: 500px;
            box-shadow: var(--shadow);
            text-align: center;
            position: relative;
        }
        
        .welcome-title {
            font-size: 32px;
            margin-bottom: 20px;
            background: linear-gradient(90deg, var(--primary), var(--accent));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }
        
        .welcome-message {
            font-size: 18px;
            line-height: 1.6;
            margin-bottom: 30px;
        }
        
        .welcome-features {
            text-align: left;
            margin: 20px 0;
            padding-left: 20px;
        }
        
        .welcome-features li {
            margin-bottom: 10px;
        }
        
        .btn-continue {
            background: linear-gradient(135deg, var(--primary), var(--accent));
            color: white;
            padding: 12px 30px;
            border-radius: 8px;
            border: none;
            font-weight: 600;
            font-size: 16px;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        
        .btn-continue:hover {
            transform: translateY(-3px);
            box-shadow: 0 6px 15px rgba(67, 97, 238, 0.3);
        }
        
        /* Share Section */
        .share-section {
            background-color: var(--dark-card);
            border-radius: var(--border-radius);
            padding: 20px;
            margin-top: 30px;
            text-align: center;
        }
        
        .share-title {
            font-size: 20px;
            margin-bottom: 15px;
            color: var(--accent);
        }
        
        .share-link-container {
            display: flex;
            gap: 10px;
            margin-bottom: 20px;
        }
        
        .share-link {
            flex: 1;
            padding: 12px;
            border-radius: 8px;
            background-color: rgba(255, 255, 255, 0.05);
            border: 1px solid var(--gray);
            color: var(--dark-text);
            overflow: hidden;
            text-overflow: ellipsis;
        }
        
        .btn-copy {
            background-color: var(--primary);
            color: white;
            border: none;
            border-radius: 8px;
            padding: 12px 20px;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        
        .btn-copy:hover {
            background-color: var(--primary-dark);
        }
        
        .share-icons {
            display: flex;
            justify-content: center;
            gap: 15px;
            margin-top: 20px;
        }
        
        .share-icon {
            width: 50px;
            height: 50px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 20px;
            color: white;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        
        .share-icon.whatsapp {
            background-color: #25D366;
        }
        
        .share-icon.facebook {
            background-color: #3b5998;
        }
        
        .share-icon.twitter {
            background-color: #1DA1F2;
        }
        
        .share-icon.link {
            background-color: var(--accent);
        }
        
        .share-icon:hover {
            transform: translateY(-5px);
        }
        
        /* Offline Section */
        .offline-container {
            max-width: 800px;
            margin: 20px auto;
            padding: 0 20px;
            display: none;
        }
        
        .offline-section {
            background-color: var(--dark-card);
            border-radius: var(--border-radius);
            padding: 20px;
            margin-bottom: 20px;
            box-shadow: var(--shadow);
        }
        
        .offline-title {
            font-size: 22px;
            margin-bottom: 20px;
            padding-bottom: 10px;
            border-bottom: 1px solid var(--gray);
            color: var(--accent);
        }
        
        .offline-empty {
            text-align: center;
            padding: 40px 20px;
            color: var(--gray);
        }
        
        .offline-empty i {
            font-size: 48px;
            margin-bottom: 20px;
            color: var(--primary);
        }
        
        .offline-book-list {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
            gap: 20px;
        }
        
        .offline-book-item {
            background-color: var(--dark-bg);
            border-radius: var(--border-radius);
            padding: 15px;
            display: flex;
            flex-direction: column;
            align-items: center;
            text-align: center;
            transition: transform 0.3s ease;
            cursor: pointer;
            position: relative;
        }
        
        .light-mode .offline-book-item {
            background-color: #e2e8f0;
        }
        
        .offline-book-item:hover {
            transform: translateY(-5px);
        }
        
        .offline-book-cover {
            width: 100px;
            height: 150px;
            border-radius: 8px;
            margin-bottom: 15px;
            display: flex;
            align-items: center;
            justify-content: center;
            background: #2c2c2c;
            color: white;
            font-size: 14px;
            text-align: center;
            padding: 10px;
            font-weight: bold;
            line-height: 1.4;
        }
        
        .offline-book-cover-img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            border-radius: 8px;
        }
        
        .offline-book-title {
            font-weight: bold;
            margin-bottom: 5px;
            font-size: 16px;
        }
        
        .offline-book-author {
            font-size: 14px;
            color: var(--gray);
            margin-bottom: 10px;
        }
        
        .btn-remove {
            position: absolute;
            top: 10px;
            right: 10px;
            background-color: var(--danger);
            color: white;
            border: none;
            border-radius: 50%;
            width: 30px;
            height: 30px;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            opacity: 0.7;
            transition: opacity 0.3s ease;
        }
        
        .btn-remove:hover {
            opacity: 1;
        }
        
        /* Settings View */
        .settings-container {
            max-width: 800px;
            margin: 20px auto;
            padding: 0 20px;
            display: none;
        }
        
        .settings-section {
            background-color: var(--dark-card);
            border-radius: var(--border-radius);
            padding: 20px;
            margin-bottom: 20px;
            box-shadow: var(--shadow);
        }
        
        .settings-title {
            font-size: 22px;
            margin-bottom: 20px;
            padding-bottom: 10px;
            border-bottom: 1px solid var(--gray);
            color: var(--accent);
        }
        
        .setting-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 12px 0;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        }
        
        .light-mode .setting-item {
            border-bottom: 1px solid rgba(0, 0, 0, 0.1);
        }
        
        .setting-label {
            font-size: 16px;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .setting-label i {
            font-size: 18px;
            width: 24px;
            text-align: center;
        }
        
        .switch {
            position: relative;
            display: inline-block;
            width: 50px;
            height: 24px;
        }
        
        .switch input {
            opacity: 0;
            width: 0;
            height: 0;
        }
        
        .slider {
            position: absolute;
            cursor: pointer;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-color: #ccc;
            transition: .4s;
            border-radius: 34px;
        }
        
        .slider:before {
            position: absolute;
            content: "";
            height: 16px;
            width: 16px;
            left: 4px;
            bottom: 4px;
            background-color: white;
            transition: .4s;
            border-radius: 50%;
        }
        
        input:checked + .slider {
            background-color: var(--accent);
        }
        
        input:checked + .slider:before {
            transform: translateX(26px);
        }
        
        select {
            padding: 8px 12px;
            border-radius: 8px;
            background-color: var(--dark-card);
            color: var(--dark-text);
            border: 1px solid var(--gray);
            width: 100%;
        }
        
        .light-mode select {
            background-color: var(--light-card);
            color: var(--light-text);
        }
        
        .btn-logout {
            background-color: var(--danger);
            color: white;
            padding: 12px 20px;
            border-radius: 8px;
            border: none;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            width: 100%;
            margin-top: 20px;
        }
        
        .btn-logout:hover {
            background-color: #d32f2f;
            transform: translateY(-2px);
        }
        
        /* Chat interface */
        .chat-container {
            background-color: var(--dark-card);
            border-radius: var(--border-radius);
            padding: 20px;
            margin-top: 20px;
            box-shadow: var(--shadow);
        }
        
        .light-mode .chat-container {
            background-color: var(--light-card);
        }
        
        .chat-messages {
            height: 300px;
            overflow-y: auto;
            margin-bottom: 15px;
            padding: 10px;
            border: 1px solid var(--gray);
            border-radius: var(--border-radius);
        }
        
        .message {
            margin-bottom: 15px;
            padding: 10px;
            border-radius: 8px;
            max-width: 80%;
        }
        
        .user-message {
            background-color: var(--primary);
            margin-left: auto;
            color: white;
        }
        
        .ai-message {
            background-color: var(--dark-bg);
            margin-right: auto;
        }
        
        .light-mode .ai-message {
            background-color: #e2e8f0;
        }
        
        .chat-input {
            display: flex;
            gap: 10px;
        }
        
        .chat-input input {
            flex: 1;
            padding: 10px;
            border-radius: 8px;
            border: 1px solid var(--gray);
            background-color: rgba(255, 255, 255, 0.05);
            color: var(--dark-text);
        }
        
        .light-mode .chat-input input {
            background-color: rgba(0, 0, 0, 0.05);
            color: var(--light-text);
        }
        
        .chat-input button {
            background-color: var(--primary);
            color: white;
            border: none;
            border-radius: 8px;
            padding: 10px 15px;
            cursor: pointer;
        }
        
        /* Profile View */
        .profile-container {
            max-width: 800px;
            margin: 20px auto;
            padding: 0 20px;
            display: none;
        }
        
        .profile-section {
            background-color: var(--dark-card);
            border-radius: var(--border-radius);
            padding: 20px;
            margin-bottom: 20px;
            box-shadow: var(--shadow);
        }
        
        .profile-title {
            font-size: 22px;
            margin-bottom: 20px;
            padding-bottom: 10px;
            border-bottom: 1px solid var(--gray);
            color: var(--accent);
        }
        
        .profile-form {
            display: grid;
            gap: 15px;
        }
        
        .form-group {
            margin-bottom: 15px;
        }
        
        .form-group label {
            display: block;
            margin-bottom: 5px;
            font-weight: 500;
        }
        
        .btn-save {
            background-color: var(--success);
            color: white;
            padding: 12px 20px;
            border-radius: 8px;
            border: none;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            width: 100%;
            margin-top: 10px;
        }
        
        .btn-save:hover {
            background-color: #05b388;
            transform: translateY(-2px);
        }
        
        /* Payment Modal */
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.7);
            z-index: 1000;
            align-items: center;
            justify-content: center;
        }
        
        .modal-content {
            background-color: var(--dark-card);
            border-radius: var(--border-radius);
            padding: 30px;
            width: 90%;
            max-width: 500px;
            box-shadow: var(--shadow);
            position: relative;
        }
        
        .light-mode .modal-content {
            background-color: var(--light-card);
        }
        
        .close-modal {
            position: absolute;
            top: 15px;
            right: 15px;
            font-size: 24px;
            cursor: pointer;
            color: var(--gray);
        }
        
        .modal-title {
            font-size: 24px;
            margin-bottom: 20px;
            color: var(--accent);
        }
        
        .account-details {
            background-color: rgba(255, 255, 255, 0.05);
            border-radius: var(--border-radius);
            padding: 15px;
            margin-bottom: 20px;
            font-family: monospace;
        }
        
        .light-mode .account-details {
            background-color: rgba(0, 0, 0, 0.05);
        }
        
        .account-details p {
            margin-bottom: 8px;
            line-height: 1.5;
        }
        
        .payment-form label {
            display: block;
            margin-bottom: 8px;
            font-weight: 500;
        }
        
        .payment-form input, 
        .payment-form textarea {
            width: 100%;
            padding: 10px;
            margin-bottom: 15px;
            border-radius: 8px;
            border: 1px solid var(--gray);
            background-color: rgba(255, 255, 255, 0.05);
            color: var(--dark-text);
        }
        
        .light-mode .payment-form input, 
        .light-mode .payment-form textarea {
            background-color: rgba(0, 0, 0, 0.05);
            color: var(--light-text);
        }
        
        .payment-form button {
            background-color: var(--success);
            color: white;
            padding: 12px 20px;
            border-radius: 8px;
            border: none;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            width: 100%;
        }
        
        .payment-form button:hover {
            background-color: #05b388;
        }
        
        /* Notification dropdown */
        .notification-dropdown {
            display: none;
            position: absolute;
            top: 55px;
            right: 15px;
            background-color: var(--dark-card);
            border-radius: var(--border-radius);
            box-shadow: var(--shadow);
            width: 350px;
            max-height: 400px;
            overflow-y: auto;
            z-index: 200;
        }
        
        .light-mode .notification-dropdown {
            background-color: var(--light-card);
        }
        
        .notification-header {
            padding: 15px;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .light-mode .notification-header {
            border-bottom: 1px solid rgba(0, 0, 0, 0.1);
        }
        
        .notification-item {
            padding: 15px;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
            cursor: pointer;
        }
        
        .light-mode .notification-item {
            border-bottom: 1px solid rgba(0, 0, 0, 0.1);
        }
        
        .notification-item.unread {
            background-color: rgba(67, 97, 238, 0.1);
        }
        
        .notification-title {
            font-weight: 600;
            margin-bottom: 5px;
        }
        
        .notification-time {
            font-size: 12px;
            color: var(--gray);
        }
        
        .notification-message {
            font-size: 14px;
        }
        
        .mark-all-read {
            color: var(--primary);
            cursor: pointer;
            font-size: 14px;
        }
        
        /* OTP Display */
        .otp-display {
            display: none;
            position: fixed;
            bottom: 20px;
            right: 20px;
            background-color: var(--dark-card);
            padding: 15px;
            border-radius: 8px;
            box-shadow: var(--shadow);
            z-index: 10000;
            max-width: 250px;
        }
        
        .otp-display-content {
            text-align: center;
        }
        
        .otp-display-code {
            font-size: 24px;
            font-weight: bold;
            margin: 10px 0;
            letter-spacing: 5px;
            background: linear-gradient(90deg, var(--accent), var(--primary));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }
        
        .otp-display-timer {
            font-size: 14px;
            color: var(--gray);
        }
        
        /* Tutorial Overlay */
        .tutorial-overlay {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-color: rgba(0, 0, 0, 0.7);
            z-index: 2000;
        }
        
        .tutorial-step {
            position: absolute;
            background-color: var(--dark-card);
            border-radius: var(--border-radius);
            padding: 20px;
            max-width: 350px;
            box-shadow: var(--shadow);
            z-index: 2001;
        }
        
        .tutorial-title {
            font-size: 20px;
            margin-bottom: 10px;
            color: var(--accent);
        }
        
        .tutorial-content {
            margin-bottom: 20px;
            line-height: 1.5;
        }
        
        .tutorial-navigation {
            display: flex;
            justify-content: space-between;
        }
        
        .tutorial-btn {
            background: linear-gradient(135deg, var(--primary), var(--accent));
            color: white;
            padding: 8px 16px;
            border-radius: 6px;
            border: none;
            font-weight: 500;
            cursor: pointer;
        }
        
        .tutorial-skip {
            background: transparent;
            color: var(--gray);
        }
        
        /* Responsive Design */
        @media (min-width: 768px) {
            .book-cover {
                height: 400px;
            }
            
            .cover-title {
                font-size: 42px;
            }
            
            .cover-author {
                font-size: 24px;
            }
        }
    </style>
    <link href="https://fonts.googleapis.com/css2?family=Merriweather:wght@400;700&family=Montserrat:wght@500;700;800&display=swap" rel="stylesheet">
</head>
<body>
    <!-- Authentication Section -->
    <div class="auth-container" id="auth-view">
        <div class="auth-box">
            <div class="auth-header">
                <div class="logo-text">InsightAtlas</div>
                <div class="auth-subtitle">Unlock the reality of life through knowledge</div>
            </div>
            
            <!-- Login Form -->
            <form id="login-form">
                <div class="form-group">
                    <label for="login-username">Username</label>
                    <input type="text" id="login-username" class="form-control" placeholder="Enter your username">
                    <div class="error-message" id="login-username-error">Please enter your username</div>
                </div>
                
                <div class="form-group">
                    <label for="login-password">Password</label>
                    <div class="password-container">
                        <input type="password" id="login-password" class="form-control" placeholder="Enter your password">
                        <i class="toggle-password fas fa-eye" data-target="login-password"></i>
                    </div>
                    <div class="error-message" id="login-password-error">Please enter your password</div>
                    <a href="#" class="forgot-password" id="forgot-password-link">Forgot password?</a>
                </div>
                
                <button type="submit" class="btn btn-primary">Login to Your Account</button>
                
                <div class="auth-footer">
                    Don't have an account? <a href="#" id="signup-link">Sign up now</a>
                </div>
            </form>
            
            <!-- Sign Up Form -->
            <form id="signup-form" style="display: none;">
                <div class="form-group">
                    <label for="signup-email">Email Address</label>
                    <input type="email" id="signup-email" class="form-control" placeholder="Enter your email">
                    <div class="error-message" id="signup-email-error">Please enter a valid email address</div>
                </div>
                
                <div class="form-group">
                    <label for="signup-username">Username</label>
                    <input type="text" id="signup-username" class="form-control" placeholder="Create a unique username">
                    <div class="error-message" id="signup-username-error">Username must be at least 4 characters</div>
                    <div class="success-message" id="signup-username-available">Username available!</div>
                </div>
                
                <div class="form-group">
                    <label for="signup-password">Password</label>
                    <div class="password-container">
                        <input type="password" id="signup-password" class="form-control" placeholder="Create a strong password">
                        <i class="toggle-password fas fa-eye" data-target="signup-password"></i>
                    </div>
                    <div class="error-message" id="signup-password-error">Password must be at least 8 characters</div>
                </div>
                
                <div class="form-group">
                    <label for="signup-confirm-password">Confirm Password</label>
                    <div class="password-container">
                        <input type="password" id="signup-confirm-password" class="form-control" placeholder="Confirm your password">
                        <i class="toggle-password fas fa-eye" data-target="signup-confirm-password"></i>
                    </div>
                    <div class="error-message" id="signup-confirm-password-error">Passwords do not match</div>
                </div>
                
                <button type="submit" class="btn btn-primary">Create Account</button>
                
                <div class="auth-footer">
                    Already have an account? <a href="#" id="login-link">Login here</a>
                </div>
            </form>
            
            <!-- Forgot Password Form -->
            <form id="forgot-password-form" style="display: none;">
                <div class="form-group">
                    <label for="reset-email">Email Address</label>
                    <input type="email" id="reset-email" class="form-control" placeholder="Enter your registered email">
                    <div class="error-message" id="reset-email-error">Please enter your registered email</div>
                    <div class="success-message" id="reset-email-success">OTP has been generated!</div>
                </div>
                
                <button type="submit" class="btn btn-primary">Generate OTP</button>
                
                <div class="auth-footer">
                    Remembered your password? <a href="#" id="back-to-login">Back to login</a>
                </div>
            </form>
            
            <!-- OTP Verification Form -->
            <form id="otp-form" style="display: none;">
                <div class="form-group">
                    <label>Enter 6-digit OTP shown in the app</label>
                    <div style="display: flex; gap: 10px; margin-bottom: 15px;">
                        <input type="text" class="otp-input" maxlength="1" data-index="1" style="width: 15%; height: 50px; text-align: center; font-size: 20px; border-radius: 8px; border: 1px solid rgba(255, 255, 255, 0.2); background-color: rgba(255, 255, 255, 0.05); color: var(--dark-text);">
                        <input type="text" class="otp-input" maxlength="1" data-index="2" style="width: 15%; height: 50px; text-align: center; font-size: 20px; border-radius: 8px; border: 1px solid rgba(255, 255, 255, 0.2); background-color: rgba(255, 255, 255, 0.05); color: var(--dark-text);">
                        <input type="text" class="otp-input" maxlength="1" data-index="3" style="width: 15%; height: 50px; text-align: center; font-size: 20px; border-radius: 8px; border: 1px solid rgba(255, 255, 255, 0.2); background-color: rgba(255, 255, 255, 0.05); color: var(--dark-text);">
                        <input type="text" class="otp-input" maxlength="1" data-index="4" style="width: 15%; height: 50px; text-align: center; font-size: 20px; border-radius: 8px; border: 1px solid rgba(255, 255, 255, 0.2); background-color: rgba(255, 255, 255, 0.05); color: var(--dark-text);">
                        <input type="text" class="otp-input" maxlength="1" data-index="5" style="width: 15%; height: 50px; text-align: center; font-size: 20px; border-radius: 8px; border: 1px solid rgba(255, 255, 255, 0.2); background-color: rgba(255, 255, 255, 0.05); color: var(--dark-text);">
                        <input type="text" class="otp-input" maxlength="1" data-index="6" style="width: 15%; height: 50px; text-align: center; font-size: 20px; border-radius: 8px; border: 1px solid rgba(255, 255, 255, 0.2); background-color: rgba(255, 255, 255, 0.05); color: var(--dark-text);">
                    </div>
                    <div class="error-message" id="otp-error">Invalid OTP. Please try again.</div>
                    <div class="auth-footer" style="margin-top: 10px;">
                        Didn't receive OTP? <a href="#" id="resend-otp">Regenerate OTP</a>
                    </div>
                </div>
                
                <button type="submit" class="btn btn-primary">Verify OTP</button>
                
                <div class="auth-footer">
                    <a href="#" id="back-to-login-otp">Back to login</a>
                </div>
            </form>
            
            <!-- Reset Password Form -->
            <form id="reset-password-form" style="display: none;">
                <div class="form-group">
                    <label for="new-password">New Password</label>
                    <div class="password-container">
                        <input type="password" id="new-password" class="form-control" placeholder="Create a new password">
                        <i class="toggle-password fas fa-eye" data-target="new-password"></i>
                    </div>
                    <div class="error-message" id="new-password-error">Password must be at least 8 characters</div>
                </div>
                
                <div class="form-group">
                    <label for="confirm-new-password">Confirm New Password</label>
                    <div class="password-container">
                        <input type="password" id="confirm-new-password" class="form-control" placeholder="Confirm your new password">
                        <i class="toggle-password fas fa-eye" data-target="confirm-new-password"></i>
                    </div>
                    <div class="error-message" id="confirm-new-password-error">Passwords do not match</div>
                </div>
                
                <button type="submit" class="btn btn-primary">Reset Password</button>
                
                <div class="auth-footer">
                    <a href="#" id="back-to-login-reset">Back to login</a>
                </div>
            </form>
        </div>
    </div>
    
    <!-- Welcome Modal -->
    <div class="welcome-modal" id="welcome-modal">
        <div class="welcome-content">
            <h2 class="welcome-title">Welcome to InsightAtlas!</h2>
            <div class="welcome-message">
                <p>We're thrilled to have you join our community of readers. InsightAtlas is designed to help you discover life's deepest truths through transformative literature.</p>
            </div>
            
            <ul class="welcome-features">
                <li>📚 Access our exclusive collection of life-changing books</li>
                <li>🔒 Read purchased books anytime, even offline</li>
                <li>🌐 Sync your progress across all devices</li>
                <li>🎁 Get special discounts on new releases</li>
            </ul>
            
            <button class="btn-continue" id="close-welcome">Start Reading</button>
        </div>
    </div>
    
    <!-- OTP Display -->
    <div class="otp-display" id="otp-display">
        <div class="otp-display-content">
            <h3>Your Verification Code</h3>
            <div class="otp-display-code" id="otp-code-display">123456</div>
            <div class="otp-display-timer">Expires in <span id="otp-timer">02:00</span></div>
            <p style="font-size: 12px; margin-top: 10px;">For security reasons, this code will expire shortly</p>
        </div>
    </div>
    
    <!-- Tutorial Overlay -->
    <div class="tutorial-overlay" id="tutorial-overlay"></div>
    
    <!-- Payment Modal -->
    <div class="modal" id="payment-modal">
        <div class="modal-content">
            <span class="close-modal" id="close-payment-modal">&times;</span>
            <h2 class="modal-title">Complete Your Purchase</h2>
            
            <div class="account-details">
                <p><strong>Bank Name:</strong> Guaranty Trust Bank (GTB)</p>
                <p><strong>Account Name:</strong> Alake Samuel</p>
                <p><strong>Account Number:</strong> 0863542562</p>
                <p><strong>Payment Amount:</strong> ₦10,000</p>
            </div>
            
            <p style="margin-bottom: 15px;">
                <strong>Important:</strong> 
                <ul style="margin-left: 20px; margin-bottom: 15px;">
                    <li>Use the book name as your transaction reference</li>
                    <li>Send proof of payment to dolayinka884@gmail.com</li>
                    <li>Access will be activated within 24 hours of payment verification</li>
                </ul>
            </p>
            
            <form class="payment-form" id="payment-form">
                <label for="transaction-ref">Transaction Reference:</label>
                <input type="text" id="transaction-ref" required>
                
                <label for="payment-proof">Upload Payment Proof:</label>
                <input type="file" id="payment-proof" accept="image/*" required>
                
                <label for="payment-note">Additional Notes:</label>
                <textarea id="payment-note" rows="3"></textarea>
                
                <button type="submit">
                    <i class="fas fa-check-circle"></i> Submit Payment
                </button>
            </form>
        </div>
    </div>
    
    <!-- Main App Content -->
    <div class="app-container" id="app-view">
        <header>
            <div class="container">
                <div class="header-content">
                    <div class="logo" id="logo">
                        <div class="logo-text">InsightAtlas</div>
                    </div>
                    
                    <div class="header-buttons">
                        <div class="notification-bell" id="notification-bell">
                            <i class="fas fa-bell"></i>
                            <div class="notification-badge" id="notification-badge">3</div>
                        </div>
                        <div class="user-avatar" id="user-avatar">U</div>
                    </div>
                </div>
            </div>
            
            <!-- Notification Dropdown -->
            <div class="notification-dropdown" id="notification-dropdown">
                <div class="notification-header">
                    <h3>Notifications</h3>
                    <div class="mark-all-read" id="mark-all-read">Mark all as read</div>
                </div>
                <div class="notification-item unread">
                    <div class="notification-title">New Message</div>
                    <div class="notification-message">You have a new message from Samuel about your purchase</div>
                    <div class="notification-time">10 min ago</div>
                </div>
                <div class="notification-item unread">
                    <div class="notification-title">Book Update</div>
                    <div class="notification-message">New chapter added to "The Main Reality of Life"</div>
                    <div class="notification-time">2 hours ago</div>
                </div>
                <div class="notification-item">
                    <div class="notification-title">Payment Received</div>
                    <div class="notification-message">Your payment for "The Main Reality of Life" has been approved</div>
                    <div class="notification-time">1 day ago</div>
                </div>
                <div class="notification-item">
                    <div class="notification-title">Welcome to InsightAtlas!</div>
                    <div class="notification-message">Start your reading journey with our featured books</div>
                    <div class="notification-time">3 days ago</div>
                </div>
            </div>
        </header>

        <div class="container">
            <!-- Home View -->
            <div id="home-view">
                <div class="hero-section">
                    <h1 class="hero-title">The Main Reality Of Life</h1>
                    <p class="hero-subtitle">Discover the transformative insights that will change how you experience life</p>
                </div>

                <div class="section-title">
                    <span>Featured Book</span>
                </div>
                
                <div class="book-card">
                    <div class="book-cover">
                        <div class="cover-title">The Main Reality Of Life</div>
                        <div class="cover-author">By Samuel A.O</div>
                    </div>
                    <div class="book-info">
                        <div class="book-title">The Main Reality Of Life</div>
                        <div class="book-author">By Samuel A.O.</div>
                        <div class="book-price">₦10,000</div>
                        <div class="book-actions">
                            <button class="btn-read" id="read-now-btn">
                                <i class="fas fa-book-open"></i> Read Now
                            </button>
                            <button class="btn-buy" id="buy-book-btn">
                                <i class="fas fa-shopping-cart"></i> Buy Now
                            </button>
                        </div>
                    </div>
                </div>

                <div class="section-title" style="margin-top: 40px;">
                    <span>About the Book</span>
                </div>
                
                <div class="about-section">
                    <p style="line-height: 1.6; margin-bottom: 15px;">
                        "The Main Reality Of Life" is an invitation to uncover the deeper truths that define who we are and how we experience the world. It's about stripping away illusions to see life clearly.
                    </p>
                    <p style="line-height: 1.6; margin-bottom: 15px;">
                        By the time you finish this book, you'll feel empowered to make conscious decisions that align with your truest self and step boldly into the life you are meant to live.
                    </p>
                    <p style="line-height: 1.6;">
                        This book peels back layers of the human experience and offers insights to help you live more intentionally, authentically, and fully.
                    </p>
                </div>
                
                <!-- Share Section -->
                <div class="share-section">
                    <h3 class="share-title">Share InsightAtlas with Friends</h3>
                    <div class="share-link-container">
                        <input type="text" class="share-link" id="share-link" value="https://insightatlas.app/samuel" readonly>
                        <button class="btn-copy" id="copy-link">Copy Link</button>
                    </div>
                    <p>Share this link to give friends access to InsightAtlas before it's on app stores!</p>
                    
                    <div class="share-icons">
                        <div class="share-icon whatsapp" title="Share via WhatsApp">
                            <i class="fab fa-whatsapp"></i>
                        </div>
                        <div class="share-icon facebook" title="Share on Facebook">
                            <i class="fab fa-facebook-f"></i>
                        </div>
                        <div class="share-icon twitter" title="Share on Twitter">
                            <i class="fab fa-twitter"></i>
                        </div>
                        <div class="share-icon link" title="Copy Link">
                            <i class="fas fa-link"></i>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Reader View -->
            <div class="reader-container" id="reader-view">
                <div class="reader-header">
                    <div class="reader-book-cover">
                        <div class="cover-title">The Main Reality Of Life</div>
                        <div class="cover-author">By Samuel A.O</div>
                    </div>
                    <h1 class="reader-title">The Main Reality Of Life</h1>
                    <div class="reader-author">By Samuel A.O.</div>
                </div>
                
                <div class="reader-content">
                    <h1>THE MAIN REALITY OF LIFE</h1>
                    <h2>SAMUEL A.O</h2>
                    
                    <h3>APPRECIATION</h3>
                    <p>Primarily, my endless thanks to God Almighty for seeing me through this journey and to my mother who gave me her full support in ways she could and I'm grateful to her.</p>
                    
                    <p>Immense gratitude to my incredible beta reader, my one and only sister. Your insightful feedback, sharp eyes, and willingness to wade through early drafts were invaluable. A huge thank you to my editor and cover designer for the stunning cover that perfectly captures the spirit of the book.</p>
                    
                    <p>To my dear friends, Oluwaseyifunmitan and Oluwashindara, thank you for the pep talks, and listening ears.</p>
                    
                    <p>Finally, to you the reader, for picking up this book and stepping into this world. I hope it brings you as much joy as writing it brought me. I love you all and enjoy and be impacted as you read.</p>
                    
                    <h3>INDEX</h3>
                    <p>Chapter 1: The Illusion Vs The Reality</p>
                    <p>Chapter 2: Pain Has A Purpose</p>
                    <p>Chapter 3: Your Choices, Your Life</p>
                    <p>Chapter 4: The people In Your Boat</p>
                    <p>Chapter 5: The Truth About Failure</p>
                    <p>Chapter 6: The Decision That Defines You</p>
                    <p>Chapter 7: The Silent battles We Fight</p>
                    <p>Chapter 8: The Power Of Belief - What Shapes Your Reality</p>
                    <p>Chapter 9: Taking The Leap - From Belief To Action</p>
                    <p>Chapter 10: The Journey Ahead - Living Your Main Reality</p>
                    
                    <h3>INTRODUCTION</h3>
                    <p><strong>Stepping Into Your Main Reality.</strong></p>
                    
                    <p>Life is a complex journey filled with moments of clarity and confusion, joy and pain, certainty, and doubt. We all navigate a world layered with illusions, stories we tell ourselves and narratives shaped by others. But beneath those layers lies a deeper truth: a main reality that defines who we are and how we experience the world. This book is an invitation to uncover that main reality.</p>
                    
                    <p>It's about stripping away illusions to see life clearly.</p>
                    
                    <p>It's about embracing pain as a teacher, not an enemy.</p>
                    
                    <p>It's about understanding that your choices shape your destiny.</p>
                    
                    <p>It's about surrounding yourself with the right people who support your journey.</p>
                    
                    <p>It's about redefining failure as a stepping stone to growth.</p>
                    
                    <p>It's about recognizing the power of belief and then moving beyond belief into courageous action.</p>
                    
                    <p>Each chapter in this book peels back a layer of the human experience and offers insights to help you live more intentionally, authentically, and fully. The reality of life is not something that simply happens to you, it's something you create moment by moment.</p>
                    
                    <p>By the time you finish this book, my hope is that you'll feel empowered to make conscious decisions that align with your truest self and step boldly into the life you are meant to live.</p>
                    
                    <p>This is your journey. This is your main reality. Let's begin.</p>
                    
                    <h3>MONOLOGUE</h3>
                    <p>I want you to stop for a moment. Just pause and breathe. Look around you. Look inside you.</p>
                    
                    <p>How often do you feel truly seen? Utterly understood? Truly alive?</p>
                    
                    <p>Life isn't always what it seems, is it?</p>
                    
                    <p>So much of what we chase—success, approval, comfort—feels just out of reach.</p>
                    
                    <p>We get lost in stories we tell ourselves, in masks we wear, in voices that aren't really ours.</p>
                    
                    <p>But beneath all that noise, beneath all that struggle, there is something real. Something steady. Something waiting for you to discover it.</p>
                    
                    <p>Your main reality.</p>
                    
                    <p>It's not about perfection. It's not about never falling. It's about standing up, repeatedly, with clarity and courage.</p>
                    
                    <p>It's about knowing that your pain, your failures, your choices—they matter. They shape the life only you can live.</p>
                    
                    <p>This book isn't about giving you answers. It's about inviting you to ask better questions. To see more clearly. To live more fully.</p>
                    
                    <p>Because the truth is, the power to create your reality is in your hands.</p>
                    
                    <p>And I'm here to walk beside you, through the illusions, the pain, and the fears toward the life you were meant to live.</p>
                    
                    <p>Are you ready?</p>
                    
                    <div class="free-access">
                        <h1>Chapter 1: The Illusion vs. The Reality</h1>
                        <p>"Everyone is chasing something — success, love, validation, peace. But few stop to ask: What am I really chasing, and why?"</p>
                        
                        <p>From the moment we're born, we're introduced to a script, not handed to us directly but absorbed through the voices and expectations of those around us. Our parents, our teachers, our culture, even the movies and music we consume, all play a part in painting a picture of how life should be. We're told: "Do this, and you'll be happy. Avoid that, and you'll be safe. Achieve these things, and your life will be meaningful."</p>
                        
                        <p>It's not all bad. These ideals often come from a place of care, from people who want the best for us. But over time, many of us come to realize something unsettling: the life we were taught to expect doesn't always match the one we experience.</p>
                        
                        <p>Some people realize this early perhaps in childhood, when their family struggled financially, or when they saw loved ones fighting battles no one talked about. Others experience it much later, perhaps after achieving the very things they thought would bring joy, only to feel emptier than before.</p>
                        
                        <p>The truth? Life doesn't always deliver what it promises.</p>
                        
                        <p>And that's not because life is cruel… it's because the promises weren't real to begin with.</p>
                        
                        <h2>The Dream We're Sold</h2>
                        <p>It starts with a narrative — simple, idealistic, and appealing.</p>
                    </div>
                </div>
                
                <div class="upgrade-box">
                    <h2 class="upgrade-title">Want to read the full book?</h2>
                    <div class="upgrade-price">₦10,000</div>
                    <button class="btn-upgrade" id="unlock-btn">
                        <i class="fas fa-lock"></i> Unlock Full Access
                    </button>
                </div>

                <div class="locked-content">
                    <p>Get an education, and you'll be successful. Be nice to others, and they'll be nice in return. Fall in love, and everything will fall into place. If you work hard, life will reward you. If you avoid mistakes, you'll avoid pain. But then real life begins to unfold. You study hard, but the job doesn't come. You love someone, but they don't love you back. You give your all, but it's not enough. You do everything "right," yet still feel like everything is going wrong. This disconnect between expectation and reality is one of the main sources of frustration and pain in people's lives. We suffer not just because life is difficult but because we were led to believe it wouldn't be.</p>
                    
                    <p>We're sold a dream, and when the dream starts to crumble, we often assume the problem is us.</p>
                    
                    <p>"Maybe I'm not good enough."</p>
                    
                    <p>"Maybe I'm cursed."</p>
                    
                    <p>"Maybe I made the wrong choices."</p>
                    
                    <p>But maybe… nothing's wrong at all. Maybe you've just reached the point where life starts getting real.</p>
                    
                    <h2>The Awakening: When the Illusion Breaks</h2>
                    <p>Let me tell you a story.</p>
                    
                    <p>There was a young man named Dayo. In secondary school, he was the star. Top of his class, respectful, obedient, hopeful. Teachers said he was destined for greatness. His parents invested all they had in his education. Dayo believed, as many did, that life was linear: input equals' output. But life didn't go as planned. He didn't get the scholarship. His business failed. Friends drifted. He sank into depression, ashamed to talk to anyone. He kept asking, "What did I do wrong?". The turning point came not from success, but from surrender. One day, he simply sat in silence and asked a different question: "What if this is just life?"</p>
                    
                    <p>Not punishment. Not failure. Just… life.</p>
                    
                    <p>That question freed him. He began to detach his self-worth from his circumstances. He stopped judging himself by timelines or societal milestones. He started living with curiosity rather than control. He took small steps - volunteering, writing, learning new skills, not because it guaranteed success, but because it felt true.</p>
                    
                    <p>And slowly, his life took on new meaning - one based, not illusion.</p>
                    
                    <!-- More content would continue here in the full version -->
                </div>
            </div>
            
            <!-- Settings View -->
            <div class="settings-container" id="settings-view">
                <div class="settings-section">
                    <h2 class="settings-title">Appearance</h2>
                    
                    <div class="setting-item">
                        <div class="setting-label">
                            <i class="fas fa-moon"></i>
                            <span>Dark Mode</span>
                        </div>
                        <label class="switch">
                            <input type="checkbox" id="dark-mode-toggle">
                            <span class="slider"></span>
                        </label>
                    </div>
                    
                    <div class="setting-item">
                        <div class="setting-label">
                            <i class="fas fa-font"></i>
                            <span>Text Size</span>
                        </div>
                        <select id="text-size">
                            <option value="small">Small</option>
                            <option value="medium" selected>Medium</option>
                            <option value="large">Large</option>
                        </select>
                    </div>
                </div>
                
                <div class="settings-section">
                    <h2 class="settings-title">Notifications</h2>
                    
                    <div class="setting-item">
                        <div class="setting-label">
                            <i class="fas fa-bell"></i>
                            <span>Enable Notifications</span>
                        </div>
                        <label class="switch">
                            <input type="checkbox" id="notifications-toggle" checked>
                            <span class="slider"></span>
                        </label>
                    </div>
                    
                    <div class="setting-item">
                        <div class="setting-label">
                            <i class="fas fa-book"></i>
                            <span>New Book Alerts</span>
                        </div>
                        <label class="switch">
                            <input type="checkbox" id="book-alerts-toggle" checked>
                            <span class="slider"></span>
                        </label>
                    </div>
                </div>
                
                <div class="settings-section">
                    <h2 class="settings-title">Language</h2>
                    
                    <div class="setting-item">
                        <div class="setting-label">
                            <i class="fas fa-globe"></i>
                            <span>App Language</span>
                        </div>
                        <select id="app-language">
                            <option value="en">English</option>
                            <option value="fr">French</option>
                            <option value="es">Spanish</option>
                            <option value="de">German</option>
                            <option value="pt">Portuguese</option>
                            <option value="ru">Russian</option>
                            <option value="zh">Chinese</option>
                            <option value="ar">Arabic</option>
                            <option value="ja">Japanese</option>
                            <option value="hi">Hindi</option>
                            <option value="yo">Yoruba</option>
                            <option value="ig">Igbo</option>
                            <option value="ha">Hausa</option>
                        </select>
                    </div>
                </div>
                
                <div class="settings-section">
                    <h2 class="settings-title">Help & Support</h2>
                    
                    <div class="setting-item">
                        <div class="setting-label">
                            <i class="fas fa-question-circle"></i>
                            <span>Help Center</span>
                        </div>
                        <button class="btn-read" id="help-center-btn">
                            <i class="fas fa-external-link-alt"></i> Open
                        </button>
                    </div>
                    
                    <div class="setting-item">
                        <div class="setting-label">
                            <i class="fas fa-robot"></i>
                            <span>AI Assistant</span>
                        </div>
                        <button class="btn-read" id="ai-assistant-btn">
                            <i class="fas fa-comments"></i> Chat
                        </button>
                    </div>
                    
                    <div class="chat-container" id="chat-container" style="display: none;">
                        <div class="chat-messages" id="chat-messages">
                            <div class="message ai-message">
                                <strong>InsightAtlas Assistant</strong><br>
                                Hello! I'm your AI assistant. I can answer questions about books, authors, payment, and app features. How can I help you today?
                            </div>
                        </div>
                        <div class="chat-input">
                            <input type="text" id="chat-input" placeholder="Ask about books, payment, or app features...">
                            <button id="send-message-btn"><i class="fas fa-paper-plane"></i></button>
                        </div>
                    </div>
                </div>
                
                <button class="btn-logout" id="logout-btn">
                    <i class="fas fa-sign-out-alt"></i> Log Out
                </button>
            </div>
            
            <!-- Offline View -->
            <div class="offline-container" id="offline-view">
                <div class="offline-section">
                    <h2 class="offline-title">Offline Books</h2>
                    
                    <div id="offline-content">
                        <div class="offline-empty">
                            <i class="fas fa-download"></i>
                            <h3>No available books offline</h3>
                            <p>Purchase books to read them offline</p>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Profile View -->
            <div class="profile-container" id="profile-view">
                <div class="profile-section">
                    <h2 class="profile-title">Your Profile</h2>
                    
                    <form class="profile-form" id="profile-form">
                        <div class="form-group">
                            <label for="username">Username</label>
                            <input type="text" id="username" value="BookLover123">
                        </div>
                        
                        <div class="form-group">
                            <label for="fullname">Full Name</label>
                            <input type="text" id="fullname" value="Samuel Reader">
                        </div>
                        
                        <div class="form-group">
                            <label for="email">Email Address</label>
                            <input type="email" id="email" value="reader@example.com">
                        </div>
                        
                        <div class="form-group">
                            <label for="phone">Phone Number</label>
                            <input type="tel" id="phone" value="+234 812 345 6789">
                        </div>
                        
                        <div class="form-group">
                            <label for="bio">Bio</label>
                            <textarea id="bio" rows="3">Passionate reader exploring life's deeper meanings</textarea>
                        </div>
                        
                        <button type="button" class="btn-save" id="save-profile-btn">
                            <i class="fas fa-save"></i> Save Profile
                        </button>
                    </form>
                </div>
                
                <div class="profile-section">
                    <h2 class="profile-title">Support Information</h2>
                    
                    <div class="setting-item">
                        <div class="setting-label">
                            <i class="fas fa-envelope"></i>
                            <span>Email Support</span>
                        </div>
                        <span>dolayinka884@gmail.com</span>
                    </div>
                    
                    <div class="setting-item">
                        <div class="setting-label">
                            <i class="fab fa-whatsapp"></i>
                            <span>WhatsApp Support</span>
                        </div>
                        <span><a href="https://wa.me/2347034969325" style="color: var(--accent);">07034969325</a></span>
                    </div>
                    
                    <div class="setting-item">
                        <div class="setting-label">
                            <i class="fas fa-headset"></i>
                            <span>Customer Support Hours</span>
                        </div>
                        <span>Mon-Fri: 9AM - 5PM</span>
                    </div>
                </div>
            </div>
        </div>

        <nav class="bottom-nav">
            <a href="#" class="nav-item active" id="nav-home">
                <i class="fas fa-home nav-icon"></i>
                <span>Home</span>
            </a>
            <a href="#" class="nav-item" id="nav-library">
                <i class="fas fa-book nav-icon"></i>
                <span>Library</span>
            </a>
            <a href="#" class="nav-item" id="nav-offline">
                <i class="fas fa-download nav-icon"></i>
                <span>Offline</span>
            </a>
            <a href="#" class="nav-item" id="nav-settings">
                <i class="fas fa-cog nav-icon"></i>
                <span>Settings</span>
            </a>
        </nav>
    </div>

    <script>
        // User Account Management
        const USER_ACCOUNTS_KEY = 'insightAtlasAccounts';
        const CURRENT_USER_KEY = 'insightAtlasCurrentUser';
        const PURCHASED_BOOKS_KEY = 'insightAtlasPurchasedBooks';
        
        // DOM Elements
        const authView = document.getElementById('auth-view');
        const appView = document.getElementById('app-view');
        const loginForm = document.getElementById('login-form');
        const signupForm = document.getElementById('signup-form');
        const forgotPasswordForm = document.getElementById('forgot-password-form');
        const otpForm = document.getElementById('otp-form');
        const resetPasswordForm = document.getElementById('reset-password-form');
        const signupLink = document.getElementById('signup-link');
        const loginLink = document.getElementById('login-link');
        const forgotPasswordLink = document.getElementById('forgot-password-link');
        const backToLoginLinks = document.querySelectorAll('#back-to-login, #back-to-login-otp, #back-to-login-reset');
        const resendOtpLink = document.getElementById('resend-otp');
        const togglePasswordIcons = document.querySelectorAll('.toggle-password');
        const welcomeModal = document.getElementById('welcome-modal');
        const closeWelcomeBtn = document.getElementById('close-welcome');
        const userAvatar = document.getElementById('user-avatar');
        const shareLink = document.getElementById('share-link');
        const copyLinkBtn = document.getElementById('copy-link');
        const logoutBtn = document.getElementById('logout-btn');
        const notificationBell = document.getElementById('notification-bell');
        const notificationDropdown = document.getElementById('notification-dropdown');
        const markAllRead = document.getElementById('mark-all-read');
        
        // OTP Display Elements
        const otpDisplay = document.getElementById('otp-display');
        const otpCodeDisplay = document.getElementById('otp-code-display');
        const otpTimerDisplay = document.getElementById('otp-timer');
        
        // Tutorial Elements
        const tutorialOverlay = document.getElementById('tutorial-overlay');
        
        // Views
        const homeView = document.getElementById('home-view');
        const readerView = document.getElementById('reader-view');
        const settingsView = document.getElementById('settings-view');
        const offlineView = document.getElementById('offline-view');
        const profileView = document.getElementById('profile-view');
        
        // Navigation items
        const navHome = document.getElementById('nav-home');
        const navLibrary = document.getElementById('nav-library');
        const navOffline = document.getElementById('nav-offline');
        const navSettings = document.getElementById('nav-settings');
        
        // Buttons
        const readNowBtn = document.getElementById('read-now-btn');
        const buyBookBtn = document.getElementById('buy-book-btn');
        const unlockBtn = document.getElementById('unlock-btn');
        const paymentModal = document.getElementById('payment-modal');
        const closePaymentModalBtn = document.getElementById('close-payment-modal');
        const paymentForm = document.getElementById('payment-form');
        const darkModeToggle = document.getElementById('dark-mode-toggle');
        const aiAssistantBtn = document.getElementById('ai-assistant-btn');
        const chatContainer = document.getElementById('chat-container');
        const chatMessages = document.getElementById('chat-messages');
        const chatInput = document.getElementById('chat-input');
        const sendMessageBtn = document.getElementById('send-message-btn');
        const saveProfileBtn = document.getElementById('save-profile-btn');
        const helpCenterBtn = document.getElementById('help-center-btn');
        
        // Load user accounts from localStorage
        let userAccounts = JSON.parse(localStorage.getItem(USER_ACCOUNTS_KEY)) || [];
        let currentUser = JSON.parse(localStorage.getItem(CURRENT_USER_KEY)) || null;
        let purchasedBooks = JSON.parse(localStorage.getItem(PURCHASED_BOOKS_KEY)) || [];
        
        // Check if user is logged in
        if (currentUser) {
            showApp();
            updateUserAvatar();
        }
        
        // Toggle password visibility
        function togglePasswordVisibility(targetId) {
            const input = document.getElementById(targetId);
            const icon = document.querySelector(`.toggle-password[data-target="${targetId}"]`);
            
            if (input.type === 'password') {
                input.type = 'text';
                icon.classList.remove('fa-eye');
                icon.classList.add('fa-eye-slash');
            } else {
                input.type = 'password';
                icon.classList.remove('fa-eye-slash');
                icon.classList.add('fa-eye');
            }
        }
        
        // Show form and hide others
        function showForm(formId) {
            const forms = [loginForm, signupForm, forgotPasswordForm, otpForm, resetPasswordForm];
            forms.forEach(form => form.style.display = 'none');
            document.getElementById(formId).style.display = 'block';
        }
        
        // Show main app
        function showApp() {
            authView.style.display = 'none';
            appView.style.display = 'block';
            showHomeView();
        }
        
        // Show welcome modal
        function showWelcome() {
            welcomeModal.style.display = 'flex';
        }
        
        // Close welcome modal
        function closeWelcome() {
            welcomeModal.style.display = 'none';
            // Start tutorial for new users
            if (currentUser && currentUser.isNew) {
                startTutorial();
                currentUser.isNew = false;
                updateUserAccount(currentUser);
            }
        }
        
        // Update user avatar with first letter
        function updateUserAvatar() {
            if (currentUser && currentUser.username) {
                userAvatar.textContent = currentUser.username.charAt(0).toUpperCase();
            }
        }
        
        // Generate OTP
        function generateOTP() {
            return Math.floor(100000 + Math.random() * 900000).toString();
        }
        
        // Display OTP in the app
        function displayOTP(otp) {
            otpCodeDisplay.textContent = otp;
            otpDisplay.style.display = 'block';
            
            let seconds = 120;
            const timer = setInterval(() => {
                seconds--;
                const mins = Math.floor(seconds / 60).toString().padStart(2, '0');
                const secs = (seconds % 60).toString().padStart(2, '0');
                otpTimerDisplay.textContent = `${mins}:${secs}`;
                
                if (seconds <= 0) {
                    clearInterval(timer);
                    otpDisplay.style.display = 'none';
                }
            }, 1000);
        }
        
        // Verify OTP
        function verifyOTP(email, otp) {
            const storedOTP = localStorage.getItem('insightAtlasOTP');
            const storedEmail = localStorage.getItem('insightAtlasOTPEmail');
            const storedTime = localStorage.getItem('insightAtlasOTPTime');
            
            // Check if OTP is expired (5 minutes)
            if (Date.now() - storedTime > 300000) {
                return false;
            }
            
            return storedOTP === otp && storedEmail === email;
        }
        
        // Copy share link to clipboard
        function copyToClipboard(text) {
            navigator.clipboard.writeText(text).then(() => {
                alert('Link copied to clipboard!');
            }).catch(err => {
                console.error('Failed to copy: ', err);
            });
        }
        
        // Show home view
        function showHomeView() {
            hideAllViews();
            homeView.style.display = 'block';
            setActiveNav('nav-home');
        }
        
        // Show reader view
        function showReaderView() {
            hideAllViews();
            readerView.style.display = 'block';
            setActiveNav('nav-library');
        }
        
        // Show settings view
        function showSettingsView() {
            hideAllViews();
            settingsView.style.display = 'block';
            setActiveNav('nav-settings');
        }
        
        // Show offline view
        function showOfflineView() {
            hideAllViews();
            offlineView.style.display = 'block';
            setActiveNav('nav-offline');
            renderOfflineBooks();
        }
        
        // Show profile view
        function showProfileView() {
            hideAllViews();
            profileView.style.display = 'block';
        }
        
        // Hide all views
        function hideAllViews() {
            homeView.style.display = 'none';
            readerView.style.display = 'none';
            settingsView.style.display = 'none';
            offlineView.style.display = 'none';
            profileView.style.display = 'none';
        }
        
        // Set active navigation item
        function setActiveNav(navId) {
            const navItems = [navHome, navLibrary, navOffline, navSettings];
            navItems.forEach(item => {
                if (item.id === navId) {
                    item.classList.add('active');
                } else {
                    item.classList.remove('active');
                }
            });
        }
        
        // Render offline books
        function renderOfflineBooks() {
            const offlineContent = document.getElementById('offline-content');
            
            if (purchasedBooks.length === 0) {
                offlineContent.innerHTML = `
                    <div class="offline-empty">
                        <i class="fas fa-download"></i>
                        <h3>No available books offline</h3>
                        <p>Purchase books to read them offline</p>
                    </div>
                `;
            } else {
                offlineContent.innerHTML = `
                    <div class="offline-book-list">
                        ${purchasedBooks.map(book => `
                            <div class="offline-book-item" data-id="${book.id}">
                                <button class="btn-remove" data-id="${book.id}">
                                    <i class="fas fa-times"></i>
                                </button>
                                <div class="offline-book-cover">
                                    <div class="cover-title" style="font-size: 18px;">${book.title}</div>
                                    <div class="cover-author" style="font-size: 14px;">${book.author}</div>
                                </div>
                                <div class="offline-book-title">${book.title}</div>
                                <div class="offline-book-author">${book.author}</div>
                                <button class="btn-read read-offline-btn" data-id="${book.id}">
                                    <i class="fas fa-book-open"></i> Read
                                </button>
                            </div>
                        `).join('')}
                    </div>
                `;
                
                // Add event listeners to remove buttons
                document.querySelectorAll('.btn-remove').forEach(btn => {
                    btn.addEventListener('click', (e) => {
                        e.stopPropagation();
                        const bookId = btn.dataset.id;
                        removeOfflineBook(bookId);
                    });
                });
                
                // Add event listeners to read buttons
                document.querySelectorAll('.read-offline-btn').forEach(btn => {
                    btn.addEventListener('click', (e) => {
                        const bookId = btn.dataset.id;
                        showReaderView();
                    });
                });
            }
        }
        
        // Remove offline book
        function removeOfflineBook(bookId) {
            purchasedBooks = purchasedBooks.filter(book => book.id !== bookId);
            localStorage.setItem(PURCHASED_BOOKS_KEY, JSON.stringify(purchasedBooks));
            renderOfflineBooks();
        }
        
        // Purchase book
        function purchaseBook() {
            // Show payment modal
            paymentModal.style.display = 'flex';
        }
        
        // Submit payment
        function submitPayment() {
            alert('Payment details submitted! Your access will be activated after verification.');
            paymentModal.style.display = 'none';
            
            // Add book to purchased books (admin approval needed in real app)
            purchasedBooks.push({
                id: 1,
                title: "The Main Reality Of Life",
                author: "Samuel A.O."
            });
            localStorage.setItem(PURCHASED_BOOKS_KEY, JSON.stringify(purchasedBooks));
            
            // Update offline view
            renderOfflineBooks();
        }
        
        // Enhanced AI Assistant Functionality
        function getAIResponse(question) {
            const lowerQuestion = question.toLowerCase();
            
            // Book content questions
            if (lowerQuestion.includes('illusion') || lowerQuestion.includes('reality')) {
                return "Chapter 1 explores the difference between societal expectations and actual life experiences. It discusses how we're taught to expect certain outcomes but often face different realities.";
            }
            
            if (lowerQuestion.includes('pain') || lowerQuestion.includes('purpose')) {
                return "Chapter 2 explains how pain serves as a teacher rather than an enemy. It shares stories of how difficult experiences lead to growth and transformation.";
            }
            
            if (lowerQuestion.includes('choices') || lowerQuestion.includes('life')) {
                return "Chapter 3 emphasizes that your daily choices shape your destiny. Small decisions accumulate to create significant life changes.";
            }
            
            if (lowerQuestion.includes('failure')) {
                return "Chapter 5 redefines failure as a stepping stone to success. It features inspiring stories of famous people who overcame failures.";
            }
            
            if (lowerQuestion.includes('author') || lowerQuestion.includes('samuel')) {
                return "Samuel A.O. is a student at Ekiti State University studying Statistics. He wrote 'The Main Reality of Life' to educate people about life's truths based on real-life experiences.";
            }
            
            if (lowerQuestion.includes('theme') || lowerQuestion.includes('main idea')) {
                return "The book's central theme is about uncovering the deeper truths beneath life's illusions. It guides readers to live intentionally and authentically.";
            }
            
            // Payment questions
            if (lowerQuestion.includes('payment') || lowerQuestion.includes('pay')) {
                return "To purchase the full book: 1. Click 'Buy Now' 2. Transfer ₦10,000 to GTB (Account: Alake Samuel, 0863542562) 3. Use the book name as reference 4. Send proof to dolayinka884@gmail.com";
            }
            
            if (lowerQuestion.includes('price') || lowerQuestion.includes('cost')) {
                return "The full book costs ₦10,000. This includes lifetime access to all content and future updates.";
            }
            
            // Support questions
            if (lowerQuestion.includes('support') || lowerQuestion.includes('help') || 
                lowerQuestion.includes('contact') || lowerQuestion.includes('problem')) {
                return "Contact support:\nEmail: dolayinka884@gmail.com\nWhatsApp: 07034969325\nWe're available Mon-Fri, 9AM-5PM to assist you.";
            }
            
            // App feature questions
            if (lowerQuestion.includes('dark mode') || lowerQuestion.includes('light mode')) {
                return "You can change the theme in Settings > Appearance. Toggle 'Dark Mode' to switch between themes.";
            }
            
            if (lowerQuestion.includes('language')) {
                return "The app supports multiple languages. Go to Settings > Language to select from 13 options including English, French, Spanish, and local Nigerian languages.";
            }
            
            if (lowerQuestion.includes('bookmark') || lowerQuestion.includes('save')) {
                return "To bookmark pages: 1. While reading, tap the bookmark icon in the top right corner. 2. Access your bookmarks through your profile.";
            }
            
            if (lowerQuestion.includes('notification')) {
                return "Manage notifications in Settings > Notifications. You can enable/disable new book alerts and app updates.";
            }
            
            // Profile questions
            if (lowerQuestion.includes('profile') || lowerQuestion.includes('account')) {
                return "Edit your profile by clicking your avatar in the top right corner. You can update your name, email, and other personal details.";
            }
            
            // General questions
            if (lowerQuestion.includes('hi') || lowerQuestion.includes('hello')) {
                return "Hello! How can I assist you today? You can ask about books, payment, or app features.";
            }
            
            return "I'm here to help with any questions about books, authors, or app features. Try asking about chapter summaries, payment process, or how to change app settings.";
        }

        function sendMessage() {
            const message = chatInput.value.trim();
            if (!message) return;
            
            // Add user message
            const userMessage = document.createElement('div');
            userMessage.classList.add('message', 'user-message');
            userMessage.textContent = message;
            chatMessages.appendChild(userMessage);
            
            // Clear input
            chatInput.value = '';
            
            // Scroll to bottom
            chatMessages.scrollTop = chatMessages.scrollHeight;
            
            // Generate AI response
            setTimeout(() => {
                const aiResponse = getAIResponse(message);
                const aiMessage = document.createElement('div');
                aiMessage.classList.add('message', 'ai-message');
                aiMessage.innerHTML = `<strong>InsightAtlas Assistant</strong><br>${aiResponse}`;
                chatMessages.appendChild(aiMessage);
                
                // Scroll to bottom
                chatMessages.scrollTop = chatMessages.scrollHeight;
            }, 1000);
        }
        
        // Update user account in localStorage
        function updateUserAccount(user) {
            const userIndex = userAccounts.findIndex(acc => acc.email === user.email);
            if (userIndex !== -1) {
                userAccounts[userIndex] = user;
                localStorage.setItem(USER_ACCOUNTS_KEY, JSON.stringify(userAccounts));
                localStorage.setItem(CURRENT_USER_KEY, JSON.stringify(user));
            }
        }
        
        // Start tutorial for new users
        function startTutorial() {
            // Create tutorial steps
            const steps = [
                {
                    title: "Welcome to InsightAtlas!",
                    content: "Let's take a quick tour to help you get started with our app. We'll show you the main features and how to use them.",
                    position: "center"
                },
                {
                    element: document.querySelector('.hero-section'),
                    title: "Featured Book",
                    content: "This is where you'll find our featured book. You can read a preview or purchase the full book.",
                    position: "bottom"
                },
                {
                    element: document.querySelector('.book-card'),
                    title: "Book Details",
                    content: "View details about the book, read a preview, or purchase the full version.",
                    position: "top"
                },
                {
                    element: document.querySelector('.bottom-nav'),
                    title: "Navigation",
                    content: "Use this navigation bar to switch between Home, Library, Offline Books, and Settings.",
                    position: "top"
                },
                {
                    element: document.getElementById('user-avatar'),
                    title: "Your Profile",
                    content: "Click here to access your profile and account settings.",
                    position: "left"
                },
                {
                    title: "You're all set!",
                    content: "Now you're ready to start your reading journey. Happy reading!",
                    position: "center"
                }
            ];
            
            let currentStep = 0;
            
            // Show tutorial overlay
            tutorialOverlay.style.display = 'block';
            
            // Create tutorial step element
            const tutorialStep = document.createElement('div');
            tutorialStep.className = 'tutorial-step';
            tutorialOverlay.appendChild(tutorialStep);
            
            // Display tutorial step
            function showStep(stepIndex) {
                if (stepIndex >= steps.length) {
                    tutorialOverlay.style.display = 'none';
                    tutorialStep.remove();
                    return;
                }
                
                const step = steps[stepIndex];
                tutorialStep.innerHTML = `
                    <h3 class="tutorial-title">${step.title}</h3>
                    <div class="tutorial-content">${step.content}</div>
                    <div class="tutorial-navigation">
                        <button class="tutorial-btn tutorial-skip" id="tutorial-skip">Skip</button>
                        <button class="tutorial-btn" id="tutorial-next">${stepIndex === steps.length - 1 ? 'Finish' : 'Next'}</button>
                    </div>
                `;
                
                // Position tutorial step
                if (step.element) {
                    const rect = step.element.getBoundingClientRect();
                    switch (step.position) {
                        case 'top':
                            tutorialStep.style.top = `${rect.top - tutorialStep.offsetHeight - 20}px`;
                            tutorialStep.style.left = `${rect.left + rect.width/2 - tutorialStep.offsetWidth/2}px`;
                            break;
                        case 'bottom':
                            tutorialStep.style.top = `${rect.bottom + 20}px`;
                            tutorialStep.style.left = `${rect.left + rect.width/2 - tutorialStep.offsetWidth/2}px`;
                            break;
                        case 'left':
                            tutorialStep.style.top = `${rect.top + rect.height/2 - tutorialStep.offsetHeight/2}px`;
                            tutorialStep.style.left = `${rect.left - tutorialStep.offsetWidth - 20}px`;
                            break;
                        case 'right':
                            tutorialStep.style.top = `${rect.top + rect.height/2 - tutorialStep.offsetHeight/2}px`;
                            tutorialStep.style.left = `${rect.right + 20}px`;
                            break;
                    }
                } else {
                    // Center position for welcome and final steps
                    tutorialStep.style.top = '50%';
                    tutorialStep.style.left = '50%';
                    tutorialStep.style.transform = 'translate(-50%, -50%)';
                }
                
                // Add event listeners for tutorial navigation
                document.getElementById('tutorial-next').addEventListener('click', () => {
                    currentStep++;
                    showStep(currentStep);
                });
                
                document.getElementById('tutorial-skip').addEventListener('click', () => {
                    tutorialOverlay.style.display = 'none';
                    tutorialStep.remove();
                });
            }
            
            // Start with first step
            showStep(currentStep);
        }

        // Event Listeners
        togglePasswordIcons.forEach(icon => {
            icon.addEventListener('click', () => {
                const target = icon.dataset.target;
                togglePasswordVisibility(target);
            });
        });
        
        signupLink.addEventListener('click', (e) => {
            e.preventDefault();
            showForm('signup-form');
        });
        
        loginLink.addEventListener('click', (e) => {
            e.preventDefault();
            showForm('login-form');
        });
        
        forgotPasswordLink.addEventListener('click', (e) => {
            e.preventDefault();
            showForm('forgot-password-form');
        });
        
        backToLoginLinks.forEach(link => {
            link.addEventListener('click', (e) => {
                e.preventDefault();
                showForm('login-form');
            });
        });
        
        resendOtpLink.addEventListener('click', (e) => {
            e.preventDefault();
            const email = document.getElementById('reset-email').value;
            if (email) {
                const otp = generateOTP();
                localStorage.setItem('insightAtlasOTP', otp);
                localStorage.setItem('insightAtlasOTPEmail', email);
                localStorage.setItem('insightAtlasOTPTime', Date.now());
                displayOTP(otp);
                document.getElementById('reset-email-success').style.display = 'block';
            }
        });
        
        closeWelcomeBtn.addEventListener('click', closeWelcome);
        
        copyLinkBtn.addEventListener('click', () => {
            copyToClipboard(shareLink.value);
        });
        
        document.querySelectorAll('.share-icon').forEach(icon => {
            icon.addEventListener('click', () => {
                copyToClipboard(shareLink.value);
            });
        });
        
        logoutBtn.addEventListener('click', () => {
            if (confirm('Are you sure you want to log out?')) {
                localStorage.removeItem(CURRENT_USER_KEY);
                location.reload();
            }
        });
        
        notificationBell.addEventListener('click', () => {
            notificationDropdown.style.display = 
                notificationDropdown.style.display === 'block' ? 'none' : 'block';
        });
        
        markAllRead.addEventListener('click', () => {
            document.querySelectorAll('.notification-item.unread').forEach(item => {
                item.classList.remove('unread');
            });
            document.getElementById('notification-badge').style.display = 'none';
        });
        
        userAvatar.addEventListener('click', () => {
            showProfileView();
        });
        
        // Navigation
        navHome.addEventListener('click', (e) => {
            e.preventDefault();
            showHomeView();
        });
        
        navLibrary.addEventListener('click', (e) => {
            e.preventDefault();
            if (purchasedBooks.length > 0) {
                showReaderView();
            } else {
                purchaseBook();
            }
        });
        
        navOffline.addEventListener('click', (e) => {
            e.preventDefault();
            showOfflineView();
        });
        
        navSettings.addEventListener('click', (e) => {
            e.preventDefault();
            showSettingsView();
        });
        
        // Book actions
        readNowBtn.addEventListener('click', (e) => {
            e.preventDefault();
            if (purchasedBooks.length > 0) {
                showOfflineView();
            } else {
                purchaseBook();
            }
        });
        
        buyBookBtn.addEventListener('click', (e) => {
            e.preventDefault();
            purchaseBook();
        });
        
        unlockBtn.addEventListener('click', (e) => {
            e.preventDefault();
            purchaseBook();
        });
        
        closePaymentModalBtn.addEventListener('click', () => {
            paymentModal.style.display = 'none';
        });
        
        paymentForm.addEventListener('submit', (e) => {
            e.preventDefault();
            submitPayment();
        });
        
        // Dark mode toggle
        darkModeToggle.addEventListener('change', function() {
            document.body.classList.toggle('light-mode');
        });
        
        // AI Assistant
        aiAssistantBtn.addEventListener('click', () => {
            chatContainer.style.display = chatContainer.style.display === 'none' ? 'block' : 'none';
        });
        
        sendMessageBtn.addEventListener('click', sendMessage);
        
        chatInput.addEventListener('keypress', (e) => {
            if (e.key === 'Enter') sendMessage();
        });
        
        // Profile
        saveProfileBtn.addEventListener('click', () => {
            if (currentUser.profileEdited) {
                alert('Your profile can only be edited once. Please make sure all information is correct before saving.');
                return;
            }
            
            if (confirm('You can only edit your profile once. Are you sure all information is correct?')) {
                currentUser.profileEdited = true;
                updateUserAccount(currentUser);
                alert('Profile saved successfully!');
                showHomeView();
            }
        });
        
        helpCenterBtn.addEventListener('click', () => {
            alert("Contact Support:\nEmail: dolayinka884@gmail.com\nWhatsApp: 07034969325\nWe're here to help you!");
        });
        
        // Form Submissions
        loginForm.addEventListener('submit', function(e) {
            e.preventDefault();
            const username = document.getElementById('login-username').value.trim();
            const password = document.getElementById('login-password').value;
            
            // Reset errors
            document.getElementById('login-username-error').style.display = 'none';
            document.getElementById('login-password-error').style.display = 'none';
            
            // Validate inputs
            if (!username) {
                document.getElementById('login-username-error').style.display = 'block';
                return;
            }
            
            if (!password) {
                document.getElementById('login-password-error').style.display = 'block';
                return;
            }
            
            // Find user
            const user = userAccounts.find(account => 
                account.username === username && account.password === password);
            
            if (user) {
                // Login successful
                currentUser = user;
                localStorage.setItem(CURRENT_USER_KEY, JSON.stringify(currentUser));
                showApp();
                updateUserAvatar();
                
                // Show welcome for new users
                if (currentUser.isNew) {
                    showWelcome();
                }
            } else {
                document.getElementById('login-password-error').textContent = 'Invalid username or password';
                document.getElementById('login-password-error').style.display = 'block';
            }
        });
        
        signupForm.addEventListener('submit', function(e) {
            e.preventDefault();
            const email = document.getElementById('signup-email').value.trim();
            const username = document.getElementById('signup-username').value.trim();
            const password = document.getElementById('signup-password').value;
            const confirmPassword = document.getElementById('signup-confirm-password').value;
            
            // Reset errors
            document.getElementById('signup-email-error').style.display = 'none';
            document.getElementById('signup-username-error').style.display = 'none';
            document.getElementById('signup-password-error').style.display = 'none';
            document.getElementById('signup-confirm-password-error').style.display = 'none';
            document.getElementById('signup-username-available').style.display = 'none';
            
            // Validate inputs
            let isValid = true;
            
            // Email validation
            const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
            if (!email || !emailRegex.test(email)) {
                document.getElementById('signup-email-error').style.display = 'block';
                isValid = false;
            }
            
            // Username validation
            if (!username || username.length < 4) {
                document.getElementById('signup-username-error').textContent = 'Username must be at least 4 characters';
                document.getElementById('signup-username-error').style.display = 'block';
                isValid = false;
            } else if (userAccounts.some(account => account.username === username)) {
                document.getElementById('signup-username-error').textContent = 'Username is already taken';
                document.getElementById('signup-username-error').style.display = 'block';
                isValid = false;
            } else {
                document.getElementById('signup-username-available').style.display = 'block';
            }
            
            // Password validation
            if (!password || password.length < 8) {
                document.getElementById('signup-password-error').textContent = 'Password must be at least 8 characters';
                document.getElementById('signup-password-error').style.display = 'block';
                isValid = false;
            }
            
            // Password match validation
            if (password !== confirmPassword) {
                document.getElementById('signup-confirm-password-error').style.display = 'block';
                isValid = false;
            }
            
            if (isValid) {
                // Create new account
                const newAccount = {
                    email,
                    username,
                    password,
                    isNew: true,
                    profileEdited: false
                };
                
                // Save account
                userAccounts.push(newAccount);
                localStorage.setItem(USER_ACCOUNTS_KEY, JSON.stringify(userAccounts));
                
                // Set as current user
                currentUser = newAccount;
                localStorage.setItem(CURRENT_USER_KEY, JSON.stringify(currentUser));
                
                // Show app
                showApp();
                showWelcome();
                updateUserAvatar();
            }
        });
        
        forgotPasswordForm.addEventListener('submit', function(e) {
            e.preventDefault();
            const email = document.getElementById('reset-email').value.trim();
            
            // Reset messages
            document.getElementById('reset-email-error').style.display = 'none';
            document.getElementById('reset-email-success').style.display = 'none';
            
            // Validate email
            const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
            if (!email || !emailRegex.test(email)) {
                document.getElementById('reset-email-error').textContent = 'Please enter a valid email address';
                document.getElementById('reset-email-error').style.display = 'block';
                return;
            }
            
            // Check if email exists
            const userExists = userAccounts.some(account => account.email === email);
            if (!userExists) {
                document.getElementById('reset-email-error').textContent = 'Email not found in our system';
                document.getElementById('reset-email-error').style.display = 'block';
                return;
            }
            
            // Generate and display OTP
            const otp = generateOTP();
            localStorage.setItem('insightAtlasOTP', otp);
            localStorage.setItem('insightAtlasOTPEmail', email);
            localStorage.setItem('insightAtlasOTPTime', Date.now());
            
            displayOTP(otp);
            document.getElementById('reset-email-success').style.display = 'block';
            showForm('otp-form');
        });
        
        otpForm.addEventListener('submit', function(e) {
            e.preventDefault();
            const email = document.getElementById('reset-email').value.trim();
            const otpInputs = document.querySelectorAll('.otp-input');
            let otp = '';
            
            otpInputs.forEach(input => {
                otp += input.value;
            });
            
            // Reset error
            document.getElementById('otp-error').style.display = 'none';
            
            // Verify OTP
            if (verifyOTP(email, otp)) {
                showForm('reset-password-form');
            } else {
                document.getElementById('otp-error').style.display = 'block';
            }
        });
        
        resetPasswordForm.addEventListener('submit', function(e) {
            e.preventDefault();
            const newPassword = document.getElementById('new-password').value;
            const confirmPassword = document.getElementById('confirm-new-password').value;
            const email = document.getElementById('reset-email').value.trim();
            
            // Reset errors
            document.getElementById('new-password-error').style.display = 'none';
            document.getElementById('confirm-new-password-error').style.display = 'none';
            
            // Validate inputs
            let isValid = true;
            
            if (!newPassword || newPassword.length < 8) {
                document.getElementById('new-password-error').textContent = 'Password must be at least 8 characters';
                document.getElementById('new-password-error').style.display = 'block';
                isValid = false;
            }
            
            if (newPassword !== confirmPassword) {
                document.getElementById('confirm-new-password-error').style.display = 'block';
                isValid = false;
            }
            
            if (isValid) {
                // Update password
                const userIndex = userAccounts.findIndex(account => account.email === email);
                if (userIndex !== -1) {
                    userAccounts[userIndex].password = newPassword;
                    localStorage.setItem(USER_ACCOUNTS_KEY, JSON.stringify(userAccounts));
                    
                    // Clear OTP data
                    localStorage.removeItem('insightAtlasOTP');
                    localStorage.removeItem('insightAtlasOTPEmail');
                    localStorage.removeItem('insightAtlasOTPTime');
                    
                    alert('Password reset successfully! You can now login with your new password.');
                    showForm('login-form');
                }
            }
        });
    </script>
</body>
</html>
