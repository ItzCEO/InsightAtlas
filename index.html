<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>InsightAtlas - The Main Reality Of Life</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        :root {
            --primary: #4361ee;
            --primary-dark: #3a56d4;
            --secondary: #ffd166;
            --dark-bg: #121212;
            --dark-card: #1e1e1e;
            --dark-text: #f1f5f9;
            /* SIGNIFICANTLY INCREASED BRIGHTNESS */
            --light-bg: #ffffff; 
            --light-card: #ffffff;
            --light-text: #1e293b;
            --accent: #ff6b6b;
            --premium: #ffb700;
            --gray: #94a3b8;
            --success: #06d6a0;
            --warning: #ffd166;
            --danger: #ef476f;
            --gold: #ffb700;
            --shadow: 0 4px 12px rgba(0, 0, 0, 0.08);
            --border-radius: 12px;
        }
        
        body {
            background-color: var(--light-bg);
            color: var(--light-text);
            transition: background-color 0.3s ease;
            padding-bottom: 80px;
            min-height: 100vh;
            /* EXTREMELY HIGH BRIGHTNESS (5.5) */
            filter: brightness(5.5);
        }
        
        body.dark-mode {
            background-color: var(--dark-bg);
            color: var(--dark-text);
            /* Maintain brightness in dark mode */
            filter: brightness(1.1);
        }
        
        body.dark-mode .book-card,
        body.dark-mode header,
        body.dark-mode .bottom-nav,
        body.dark-mode .section-content,
        body.dark-mode .about-section,
        body.dark-mode .offline-section,
        body.dark-mode .settings-section,
        body.dark-mode .profile-section {
            background-color: var(--dark-card);
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 15px;
        }
        
        /* Auth Container */
        .auth-container {
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            padding: 20px;
        }
        
        .auth-box {
            width: 100%;
            max-width: 450px;
            background-color: var(--light-card);
            border-radius: var(--border-radius);
            box-shadow: var(--shadow);
            padding: 30px;
        }
        
        .auth-header {
            text-align: center;
            margin-bottom: 30px;
        }
        
        .logo-text {
            font-size: 32px;
            font-weight: bold;
            background: linear-gradient(90deg, #4361ee, #ff6b6b);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            letter-spacing: 1px;
            margin-bottom: 10px;
            font-family: 'Montserrat', sans-serif;
        }
        
        .auth-subtitle {
            color: var(--gray);
            font-size: 16px;
        }
        
        .form-group {
            margin-bottom: 20px;
        }
        
        .form-group label {
            display: block;
            margin-bottom: 8px;
            font-weight: 500;
            color: var(--gray);
        }
        
        .form-control {
            width: 100%;
            padding: 14px;
            border-radius: 8px;
            border: 1px solid rgba(0, 0, 0, 0.2);
            background-color: rgba(0, 0, 0, 0.05);
            color: var(--light-text);
            font-size: 16px;
        }
        
        .form-control:focus {
            border-color: var(--primary);
            outline: none;
            background-color: rgba(67, 97, 238, 0.1);
        }
        
        .password-container {
            position: relative;
        }
        
        .toggle-password {
            position: absolute;
            right: 12px;
            top: 50%;
            transform: translateY(-50%);
            cursor: pointer;
            color: var(--gray);
        }
        
        .btn {
            display: block;
            width: 100%;
            padding: 15px;
            border-radius: 8px;
            border: none;
            font-weight: 600;
            font-size: 16px;
            cursor: pointer;
            transition: all 0.3s ease;
            text-align: center;
        }
        
        .btn-primary {
            background: linear-gradient(135deg, var(--primary), var(--accent));
            color: white;
            margin-bottom: 15px;
        }
        
        .btn-primary:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 15px rgba(67, 97, 238, 0.3);
        }
        
        .auth-footer {
            text-align: center;
            margin-top: 20px;
            color: var(--gray);
            font-size: 14px;
        }
        
        .auth-footer a {
            color: var(--primary);
            text-decoration: none;
            font-weight: 600;
        }
        
        .auth-footer a:hover {
            text-decoration: underline;
        }
        
        .forgot-password {
            display: block;
            text-align: right;
            margin: 5px 0 20px;
            color: var(--gray);
            font-size: 14px;
            text-decoration: none;
        }
        
        .forgot-password:hover {
            color: var(--primary);
            text-decoration: underline;
        }
        
        .error-message {
            color: var(--danger);
            font-size: 14px;
            margin-top: 5px;
            display: none;
        }
        
        .success-message {
            color: var(--success);
            font-size: 14px;
            margin-top: 5px;
            display: none;
        }
        
        /* Main App Container */
        .app-container {
            display: none;
        }
        
        header {
            background-color: var(--light-card);
            padding: 15px 0;
            position: sticky;
            top: 0;
            z-index: 100;
            box-shadow: var(--shadow);
        }
        
        .dark-mode header {
            background-color: var(--dark-card);
        }
        
        .header-content {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .logo {
            display: flex;
            align-items: center;
            cursor: pointer;
        }
        
        .user-avatar {
            width: 36px;
            height: 36px;
            border-radius: 50%;
            background: linear-gradient(135deg, var(--primary), var(--accent));
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: bold;
            cursor: pointer;
            position: relative;
        }
        
        .notification-bell {
            position: relative;
            cursor: pointer;
            font-size: 20px;
            color: var(--gray);
            margin-right: 15px;
        }
        
        .notification-badge {
            position: absolute;
            top: -5px;
            right: -5px;
            background-color: var(--danger);
            color: white;
            border-radius: 50%;
            width: 18px;
            height: 18px;
            font-size: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        .hero-section {
            padding: 30px 0;
            text-align: center;
            background: linear-gradient(135deg, #e0e7ff, #dbeafe);
            border-radius: 0 0 30px 30px;
            margin-bottom: 30px;
        }
        
        .dark-mode .hero-section {
            background: linear-gradient(135deg, #1a1a2e, #16213e);
        }
        
        .hero-title {
            font-size: 28px;
            margin-bottom: 15px;
            background: linear-gradient(90deg, var(--accent), var(--primary));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }
        
        .hero-subtitle {
            color: var(--gray);
            margin-bottom: 25px;
            max-width: 600px;
            margin-left: auto;
            margin-right: auto;
        }
        
        .section-title {
            font-size: 20px;
            margin: 25px 0 15px;
            padding-left: 10px;
            border-left: 4px solid var(--accent);
        }
        
        .book-card {
            background-color: var(--light-card);
            border-radius: var(--border-radius);
            overflow: hidden;
            box-shadow: var(--shadow);
            transition: transform 0.3s ease, box-shadow 0.3s ease;
            cursor: pointer;
            max-width: 400px;
            margin: 0 auto;
        }
        
        .dark-mode .book-card {
            background-color: var(--dark-card);
        }
        
        .book-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 20px rgba(0, 0, 0, 0.2);
        }
        
        .book-cover {
            height: 300px;
            position: relative;
            overflow: hidden;
            display: flex;
            align-items: center;
            justify-content: center;
            background: #2c2c2c;
            color: white;
            text-align: center;
            padding: 20px;
            font-weight: bold;
            line-height: 1.4;
            flex-direction: column;
        }
        
        .cover-title {
            font-size: 32px;
            font-weight: 800;
            margin-bottom: 10px;
            font-family: 'Merriweather', serif;
            text-shadow: 0 2px 4px rgba(0,0,0,0.5);
        }
        
        .cover-author {
            font-size: 20px;
            font-style: italic;
            text-shadow: 0 1px 2px rgba(0,0,0,0.5);
        }
        
        .book-info {
            padding: 20px;
            text-align: center;
        }
        
        .book-title {
            font-size: 24px;
            font-weight: 700;
            margin-bottom: 10px;
        }
        
        .book-author {
            font-size: 16px;
            color: var(--gray);
            margin-bottom: 15px;
        }
        
        .book-price {
            font-size: 22px;
            font-weight: 700;
            color: var(--premium);
            margin-bottom: 15px;
        }
        
        .book-actions {
            display: flex;
            gap: 10px;
            justify-content: center;
        }
        
        .btn-read {
            background: linear-gradient(135deg, var(--primary), var(--accent));
            color: white;
            padding: 10px 20px;
            border-radius: 20px;
            border: none;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.2s ease;
        }
        
        .btn-read:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 15px rgba(67, 97, 238, 0.3);
        }
        
        .btn-buy {
            background: linear-gradient(135deg, var(--success), #05b388);
            color: white;
            padding: 10px 20px;
            border-radius: 20px;
            border: none;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.2s ease;
        }
        
        .btn-buy:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 15px rgba(5, 179, 136, 0.3);
        }
        
        .reader-container {
            max-width: 800px;
            margin: 20px auto;
            padding: 0 20px;
            display: none;
        }
        
        .reader-header {
            text-align: center;
            margin-bottom: 32px;
        }
        
        .reader-book-cover {
            width: 180px;
            height: 240px;
            border-radius: 12px;
            margin: 0 auto 20px;
            display: flex;
            align-items: center;
            justify-content: center;
            background: #2c2c2c;
            color: white;
            text-align: center;
            padding: 20px;
            font-weight: bold;
            line-height: 1.4;
            flex-direction: column;
        }
        
        .reader-title {
            font-size: 32px;
            font-weight: 800;
            margin-bottom: 8px;
        }
        
        .reader-author {
            font-size: 18px;
            color: var(--gray);
            margin-bottom: 24px;
        }
        
        .reader-content {
            line-height: 1.8;
            font-size: 18px;
            padding: 20px 0;
            font-family: 'Merriweather', Georgia, serif;
        }
        
        .reader-content h1, 
        .reader-content h2, 
        .reader-content h3 {
            margin: 32px 0 16px;
            color: var(--accent);
            font-family: 'Montserrat', sans-serif;
        }
        
        .reader-content p {
            margin-bottom: 24px;
            letter-spacing: 0.3px;
        }
        
        .free-access {
            position: relative;
        }
        
        .free-access::after {
            content: "";
            position: absolute;
            bottom: 0;
            left: 0;
            right: 0;
            height: 100px;
            background: linear-gradient(to bottom, rgba(30, 41, 59, 0.1), var(--light-bg));
            pointer-events: none;
        }
        
        .dark-mode .free-access::after {
            background: linear-gradient(to bottom, rgba(248, 250, 252, 0.1), var(--dark-bg));
        }
        
        .upgrade-box {
            background: linear-gradient(135deg, #ffb700, #ffd166);
            border-radius: var(--border-radius);
            padding: 32px;
            text-align: center;
            margin: 48px 0;
            box-shadow: var(--shadow);
        }
        
        .upgrade-title {
            font-size: 28px;
            font-weight: 800;
            margin-bottom: 16px;
            color: #1e293b;
        }
        
        .upgrade-price {
            font-size: 36px;
            font-weight: 800;
            color: #1e293b;
            margin-bottom: 24px;
        }
        
        .btn-upgrade {
            background-color: #1e293b;
            color: white;
            padding: 16px 40px;
            border-radius: 8px;
            border: none;
            font-weight: 700;
            font-size: 18px;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: var(--shadow);
        }
        
        .btn-upgrade:hover {
            background-color: #0f172a;
            transform: translateY(-3px);
        }
        
        .bottom-nav {
            position: fixed;
            bottom: 0;
            left: 0;
            right: 0;
            background-color: var(--light-card);
            display: flex;
            justify-content: space-around;
            padding: 12px 0;
            box-shadow: 0 -2px 10px rgba(0, 0, 0, 0.2);
            z-index: 100;
        }
        
        .dark-mode .bottom-nav {
            background-color: var(--dark-card);
        }
        
        .nav-item {
            display: flex;
            flex-direction: column;
            align-items: center;
            color: var(--gray);
            text-decoration: none;
            font-size: 12px;
            transition: all 0.2s ease;
        }
        
        .nav-item.active {
            color: var(--accent);
        }
        
        .nav-icon {
            font-size: 20px;
            margin-bottom: 4px;
        }
        
        .locked-content {
            display: none;
        }
        
        .book-lock {
            position: absolute;
            top: 10px;
            right: 10px;
            background-color: rgba(0, 0, 0, 0.7);
            color: white;
            padding: 5px 10px;
            border-radius: 20px;
            font-size: 14px;
            display: flex;
            align-items: center;
        }
        
        .book-lock i {
            margin-right: 5px;
        }
        
        /* Welcome Modal */
        .welcome-modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.8);
            z-index: 1000;
            align-items: center;
            justify-content: center;
        }
        
        .welcome-content {
            background-color: var(--light-card);
            border-radius: var(--border-radius);
            padding: 40px;
            width: 90%;
            max-width: 500px;
            box-shadow: var(--shadow);
            text-align: center;
            position: relative;
        }
        
        .dark-mode .welcome-content {
            background-color: var(--dark-card);
        }
        
        .welcome-title {
            font-size: 32px;
            margin-bottom: 20px;
            background: linear-gradient(90deg, var(--primary), var(--accent));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }
        
        .welcome-message {
            font-size: 18px;
            line-height: 1.6;
            margin-bottom: 30px;
        }
        
        .welcome-features {
            text-align: left;
            margin: 20px 0;
            padding-left: 20px;
        }
        
        .welcome-features li {
            margin-bottom: 10px;
        }
        
        .btn-continue {
            background: linear-gradient(135deg, var(--primary), var(--accent));
            color: white;
            padding: 12px 30px;
            border-radius: 8px;
            border: none;
            font-weight: 600;
            font-size: 16px;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        
        .btn-continue:hover {
            transform: translateY(-3px);
            box-shadow: 0 6px 15px rgba(67, 97, 238, 0.3);
        }
        
        /* Share Section */
        .share-section {
            background-color: var(--light-card);
            border-radius: var(--border-radius);
            padding: 20px;
            margin-top: 30px;
            text-align: center;
        }
        
        .dark-mode .share-section {
            background-color: var(--dark-card);
        }
        
        .share-title {
            font-size: 20px;
            margin-bottom: 15px;
            color: var(--accent);
        }
        
        .share-link-container {
            display: flex;
            gap: 10px;
            margin-bottom: 20px;
        }
        
        .share-link {
            flex: 1;
            padding: 12px;
            border-radius: 8px;
            background-color: rgba(0, 0, 0, 0.05);
            border: 1px solid var(--gray);
            color: var(--light-text);
            overflow: hidden;
            text-overflow: ellipsis;
        }
        
        .dark-mode .share-link {
            background-color: rgba(255, 255, 255, 0.05);
            color: var(--dark-text);
        }
        
        .btn-copy {
            background-color: var(--primary);
            color: white;
            border: none;
            border-radius: 8px;
            padding: 12px 20px;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        
        .btn-copy:hover {
            background-color: var(--primary-dark);
        }
        
        .share-icons {
            display: flex;
            justify-content: center;
            gap: 15px;
            margin-top: 20px;
        }
        
        .share-icon {
            width: 50px;
            height: 50px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 20px;
            color: white;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        
        .share-icon.whatsapp {
            background-color: #25D366;
        }
        
        .share-icon.facebook {
            background-color: #3b5998;
        }
        
        .share-icon.twitter {
            background-color: #1DA1F2;
        }
        
        .share-icon.link {
            background-color: var(--accent);
        }
        
        .share-icon:hover {
            transform: translateY(-5px);
        }
        
        /* Offline Section */
        .offline-container {
            max-width: 800px;
            margin: 20px auto;
            padding: 0 20px;
            display: none;
        }
        
        .offline-section {
            background-color: var(--light-card);
            border-radius: var(--border-radius);
            padding: 20px;
            margin-bottom: 20px;
            box-shadow: var(--shadow);
        }
        
        .dark-mode .offline-section {
            background-color: var(--dark-card);
        }
        
        .offline-title {
            font-size: 22px;
            margin-bottom: 20px;
            padding-bottom: 10px;
            border-bottom: 1px solid var(--gray);
            color: var(--accent);
        }
        
        .offline-empty {
            text-align: center;
            padding: 40px 20px;
            color: var(--gray);
        }
        
        .offline-empty i {
            font-size: 48px;
            margin-bottom: 20px;
            color: var(--primary);
        }
        
        .offline-book-list {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
            gap: 20px;
        }
        
        .offline-book-item {
            background-color: #e2e8f0;
            border-radius: var(--border-radius);
            padding: 15px;
            display: flex;
            flex-direction: column;
            align-items: center;
            text-align: center;
            transition: transform 0.3s ease;
            cursor: pointer;
            position: relative;
        }
        
        .dark-mode .offline-book-item {
            background-color: var(--dark-bg);
        }
        
        .offline-book-item:hover {
            transform: translateY(-5px);
        }
        
        .offline-book-cover {
            width: 100px;
            height: 150px;
            border-radius: 8px;
            margin-bottom: 15px;
            display: flex;
            align-items: center;
            justify-content: center;
            background: #2c2c2c;
            color: white;
            font-size: 14px;
            text-align: center;
            padding: 10px;
            font-weight: bold;
            line-height: 1.4;
            position: relative;
        }
        
        .offline-book-cover-img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            border-radius: 8px;
        }
        
        .offline-book-title {
            font-weight: bold;
            margin-bottom: 5px;
            font-size: 16px;
        }
        
        .offline-book-author {
            font-size: 14px;
            color: var(--gray);
            margin-bottom: 10px;
        }
        
        .btn-remove {
            position: absolute;
            top: 10px;
            right: 10px;
            background-color: var(--danger);
            color: white;
            border: none;
            border-radius: 50%;
            width: 30px;
            height: 30px;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            opacity: 0.7;
            transition: opacity 0.3s ease;
        }
        
        .btn-remove:hover {
            opacity: 1;
        }
        
        /* Settings View */
        .settings-container {
            max-width: 800px;
            margin: 20px auto;
            padding: 0 20px;
            display: none;
        }
        
        .settings-section {
            background-color: var(--light-card);
            border-radius: var(--border-radius);
            padding: 20px;
            margin-bottom: 20px;
            box-shadow: var(--shadow);
        }
        
        .dark-mode .settings-section {
            background-color: var(--dark-card);
        }
        
        .settings-title {
            font-size: 22px;
            margin-bottom: 20px;
            padding-bottom: 10px;
            border-bottom: 1px solid var(--gray);
            color: var(--accent);
        }
        
        .setting-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 15px 0;
            border-bottom: 1px solid rgba(0, 0, 0, 0.1);
        }
        
        .dark-mode .setting-item {
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        }
        
        .setting-label {
            font-size: 16px;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .setting-label i {
            font-size: 18px;
            width: 24px;
            text-align: center;
        }
        
        .switch {
            position: relative;
            display: inline-block;
            width: 50px;
            height: 24px;
        }
        
        .switch input {
            opacity: 0;
            width: 0;
            height: 0;
        }
        
        .slider {
            position: absolute;
            cursor: pointer;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-color: #ccc;
            transition: .4s;
            border-radius: 34px;
        }
        
        .slider:before {
            position: absolute;
            content: "";
            height: 16px;
            width: 16px;
            left: 4px;
            bottom: 4px;
            background-color: white;
            transition: .4s;
            border-radius: 50%;
        }
        
        input:checked + .slider {
            background-color: var(--accent);
        }
        
        input:checked + .slider:before {
            transform: translateX(26px);
        }
        
        select {
            padding: 8px 12px;
            border-radius: 8px;
            background-color: var(--light-card);
            color: var(--light-text);
            border: 1px solid var(--gray);
            width: 100%;
        }
        
        .dark-mode select {
            background-color: var(--dark-card);
            color: var(--dark-text);
        }
        
        .btn-logout {
            background-color: var(--danger);
            color: white;
            padding: 12px 20px;
            border-radius: 8px;
            border: none;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            width: 100%;
            margin-top: 20px;
        }
        
        .btn-logout:hover {
            background-color: #d32f2f;
            transform: translateY(-2px);
        }
        
        .btn-delete-account {
            background-color: #ff4d4f;
            color: white;
            padding: 12px 20px;
            border-radius: 8px;
            border: none;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            width: 100%;
            margin-top: 10px;
        }
        
        .btn-delete-account:hover {
            background-color: #d9363e;
            transform: translateY(-2px);
        }
        
        /* Chat interface */
        .chat-container {
            background-color: var(--light-card);
            border-radius: var(--border-radius);
            padding: 20px;
            margin-top: 20px;
            box-shadow: var(--shadow);
        }
        
        .dark-mode .chat-container {
            background-color: var(--dark-card);
        }
        
        .chat-messages {
            height: 300px;
            overflow-y: auto;
            margin-bottom: 15px;
            padding: 10px;
            border: 1px solid var(--gray);
            border-radius: var(--border-radius);
        }
        
        .message {
            margin-bottom: 15px;
            padding: 10px;
            border-radius: 8px;
            max-width: 80%;
        }
        
        .user-message {
            background-color: var(--primary);
            margin-left: auto;
            color: white;
        }
        
        .ai-message {
            background-color: #e2e8f0;
            margin-right: auto;
        }
        
        .dark-mode .ai-message {
            background-color: var(--dark-bg);
        }
        
        .chat-input {
            display: flex;
            gap: 10px;
        }
        
        .chat-input input {
            flex: 1;
            padding: 10px;
            border-radius: 8px;
            border: 1px solid var(--gray);
            background-color: rgba(0, 0, 0, 0.05);
            color: var(--light-text);
        }
        
        .dark-mode .chat-input input {
            background-color: rgba(255, 255, 255, 0.05);
            color: var(--dark-text);
        }
        
        .chat-input button {
            background-color: var(--primary);
            color: white;
            border: none;
            border-radius: 8px;
            padding: 10px 15px;
            cursor: pointer;
        }
        
        /* Profile View */
        .profile-container {
            max-width: 800px;
            margin: 20px auto;
            padding: 0 20px;
            display: none;
        }
        
        .profile-section {
            background-color: var(--light-card);
            border-radius: var(--border-radius);
            padding: 20px;
            margin-bottom: 20px;
            box-shadow: var(--shadow);
        }
        
        .dark-mode .profile-section {
            background-color: var(--dark-card);
        }
        
        .profile-title {
            font-size: 22px;
            margin-bottom: 20px;
            padding-bottom: 10px;
            border-bottom: 1px solid var(--gray);
            color: var(--accent);
        }
        
        .profile-form {
            display: grid;
            gap: 15px;
        }
        
        .form-group {
            margin-bottom: 15px;
        }
        
        .form-group label {
            display: block;
            margin-bottom: 5px;
            font-weight: 500;
        }
        
        .btn-save {
            background-color: var(--success);
            color: white;
            padding: 12px 20px;
            border-radius: 8px;
            border: none;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            width: 100%;
            margin-top: 10px;
        }
        
        .btn-save:hover {
            background-color: #05b388;
            transform: translateY(-2px);
        }
        
        /* Payment Modal */
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.7);
            z-index: 1000;
            align-items: center;
            justify-content: center;
        }
        
        .modal-content {
            background-color: var(--light-card);
            border-radius: var(--border-radius);
            padding: 30px;
            width: 90%;
            max-width: 500px;
            box-shadow: var(--shadow);
            position: relative;
        }
        
        .dark-mode .modal-content {
            background-color: var(--dark-card);
        }
        
        .close-modal {
            position: absolute;
            top: 15px;
            right: 15px;
            font-size: 24px;
            cursor: pointer;
            color: var(--gray);
        }
        
        .modal-title {
            font-size: 24px;
            margin-bottom: 20px;
            color: var(--accent);
        }
        
        .account-details {
            background-color: rgba(0, 0, 0, 0.05);
            border-radius: var(--border-radius);
            padding: 15px;
            margin-bottom: 20px;
            font-family: monospace;
        }
        
        .dark-mode .account-details {
            background-color: rgba(255, 255, 255, 0.05);
        }
        
        .account-details p {
            margin-bottom: 8px;
            line-height: 1.5;
        }
        
        .payment-form label {
            display: block;
            margin-bottom: 8px;
            font-weight: 500;
        }
        
        .payment-form input {
            width: 100%;
            padding: 10px;
            margin-bottom: 15px;
            border-radius: 8px;
            border: 1px solid var(--gray);
            background-color: rgba(0, 0, 0, 0.05);
            color: var(--light-text);
        }
        
        .dark-mode .payment-form input {
            background-color: rgba(255, 255, 255, 0.05);
            color: var(--dark-text);
        }
        
        .payment-form button {
            background-color: var(--success);
            color: white;
            padding: 12px 20px;
            border-radius: 8px;
            border: none;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            width: 100%;
        }
        
        .payment-form button:hover {
            background-color: #05b388;
        }
        
        /* Notification dropdown */
        .notification-dropdown {
            display: none;
            position: absolute;
            top: 55px;
            right: 15px;
            background-color: var(--light-card);
            border-radius: var(--border-radius);
            box-shadow: var(--shadow);
            width: 350px;
            max-height: 400px;
            overflow-y: auto;
            z-index: 200;
        }
        
        .dark-mode .notification-dropdown {
            background-color: var(--dark-card);
        }
        
        .notification-header {
            padding: 15px;
            border-bottom: 1px solid rgba(0, 0, 0, 0.1);
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .dark-mode .notification-header {
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        }
        
        .notification-item {
            padding: 15px;
            border-bottom: 1px solid rgba(0, 0, 0, 0.1);
            cursor: pointer;
        }
        
        .dark-mode .notification-item {
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        }
        
        .notification-item.unread {
            background-color: rgba(67, 97, 238, 0.1);
        }
        
        .notification-title {
            font-weight: 600;
            margin-bottom: 5px;
        }
        
        .notification-time {
            font-size: 12px;
            color: var(--gray);
        }
        
        .notification-message {
            font-size: 14px;
        }
        
        .mark-all-read {
            color: var(--primary);
            cursor: pointer;
            font-size: 14px;
        }
        
        /* OTP Display */
        .otp-display {
            display: none;
            position: fixed;
            bottom: 20px;
            right: 20px;
            background-color: var(--light-card);
            padding: 15px;
            border-radius: 8px;
            box-shadow: var(--shadow);
            z-index: 10000;
            max-width: 250px;
        }
        
        .dark-mode .otp-display {
            background-color: var(--dark-card);
        }
        
        .otp-display-content {
            text-align: center;
        }
        
        .otp-display-code {
            font-size: 24px;
            font-weight: bold;
            margin: 10px 0;
            letter-spacing: 5px;
            background: linear-gradient(90deg, var(--accent), var(--primary));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }
        
        .otp-display-timer {
            font-size: 14px;
            color: var(--gray);
        }
        
        /* Tutorial Overlay */
        .tutorial-overlay {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-color: rgba(0, 0, 0, 0.7);
            z-index: 2000;
        }
        
        .tutorial-step {
            position: absolute;
            background-color: var(--light-card);
            border-radius: var(--border-radius);
            padding: 20px;
            max-width: 350px;
            box-shadow: var(--shadow);
            z-index: 2001;
        }
        
        .dark-mode .tutorial-step {
            background-color: var(--dark-card);
        }
        
        .tutorial-title {
            font-size: 20px;
            margin-bottom: 10px;
            color: var(--accent);
        }
        
        .tutorial-content {
            margin-bottom: 20px;
            line-height: 1.5;
        }
        
        .tutorial-navigation {
            display: flex;
            justify-content: space-between;
        }
        
        .tutorial-btn {
            background: linear-gradient(135deg, var(--primary), var(--accent));
            color: white;
            padding: 8px 16px;
            border-radius: 6px;
            border: none;
            font-weight: 500;
            cursor: pointer;
        }
        
        .tutorial-skip {
            background: transparent;
            color: var(--gray);
        }
        
        /* Tutorial Highlight */
        .tutorial-highlight {
            position: absolute;
            border: 2px solid var(--accent);
            border-radius: 8px;
            box-shadow: 0 0 0 9999px rgba(0,0,0,0.7), 0 0 15px var(--accent);
            z-index: 2001;
            pointer-events: none;
            transition: all 0.3s ease;
        }
        
        /* Responsive Design */
        @media (min-width: 768px) {
            .book-cover {
                height: 400px;
            }
            
            .cover-title {
                font-size: 42px;
            }
            
            .cover-author {
                font-size: 24px;
            }
        }

        /* Premium Icon */
        .premium-icon {
            color: var(--premium);
            font-size: 20px;
            margin-right: 15px;
            cursor: pointer;
        }

        /* Rating System */
        .rating-section {
            background-color: var(--light-card);
            border-radius: var(--border-radius);
            padding: 25px;
            margin-top: 40px;
            box-shadow: var(--shadow);
        }
        
        .dark-mode .rating-section {
            background-color: var(--dark-card);
        }
        
        .rating-title {
            font-size: 22px;
            margin-bottom: 20px;
            text-align: center;
            color: var(--accent);
        }
        
        .rating-stars {
            display: flex;
            justify-content: center;
            margin-bottom: 20px;
        }
        
        .star {
            font-size: 28px;
            color: #ddd;
            cursor: pointer;
            margin: 0 5px;
            transition: color 0.2s;
        }
        
        .star:hover,
        .star.active {
            color: var(--premium);
        }
        
        .rating-comment {
            width: 100%;
            padding: 15px;
            border-radius: 8px;
            border: 1px solid var(--gray);
            background-color: rgba(0, 0, 0, 0.05);
            color: var(--light-text);
            font-size: 16px;
            min-height: 100px;
            margin-bottom: 20px;
        }
        
        .dark-mode .rating-comment {
            background-color: rgba(255, 255, 255, 0.05);
            color: var(--dark-text);
        }
        
        .btn-submit-rating {
            background: linear-gradient(135deg, var(--primary), var(--accent));
            color: white;
            padding: 12px 25px;
            border-radius: 8px;
            border: none;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            display: block;
            margin: 0 auto;
        }
        
        .btn-submit-rating:hover {
            transform: translateY(-3px);
            box-shadow: 0 6px 15px rgba(67, 97, 238, 0.3);
        }
        
        .thank-you-message {
            text-align: center;
            color: var(--success);
            font-weight: 600;
            margin-top: 15px;
            display: none;
        }

        /* Premium View */
        .premium-container {
            max-width: 1200px;
            margin: 20px auto;
            padding: 0 20px;
            display: none;
        }
        
        .premium-section {
            background-color: var(--light-card);
            border-radius: var(--border-radius);
            padding: 20px;
            margin-bottom: 20px;
            box-shadow: var(--shadow);
        }
        
        .dark-mode .premium-section {
            background-color: var(--dark-card);
        }
        
        .premium-title {
            font-size: 24px;
            margin-bottom: 20px;
            padding-bottom: 10px;
            border-bottom: 1px solid var(--gray);
            color: var(--premium);
            text-align: center;
        }
        
        .premium-empty {
            text-align: center;
            padding: 40px 20px;
            color: var(--gray);
        }
        
        .premium-empty i {
            font-size: 48px;
            margin-bottom: 20px;
            color: var(--premium);
        }
    </style>
    <link href="https://fonts.googleapis.com/css2?family=Merriweather:wght@400;700&family=Montserrat:wght@500;700;800&display=swap" rel="stylesheet">
</head>
<body>
    <!-- Authentication Section -->
    <div class="auth-container" id="auth-view">
        <div class="auth-box">
            <div class="auth-header">
                <div class="logo-text">InsightAtlas</div>
                <div class="auth-subtitle">Unlock the reality of life through knowledge</div>
            </div>
            
            <!-- Login Form -->
            <form id="login-form">
                <div class="form-group">
                    <label for="login-username">Username</label>
                    <input type="text" id="login-username" class="form-control" placeholder="Enter your username">
                    <div class="error-message" id="login-username-error">Please enter your username</div>
                </div>
                
                <div class="form-group">
                    <label for="login-password">Password</label>
                    <div class="password-container">
                        <input type="password" id="login-password" class="form-control" placeholder="Enter your password">
                        <i class="toggle-password fas fa-eye" data-target="login-password"></i>
                    </div>
                    <div class="error-message" id="login-password-error">Please enter your password</div>
                    <a href="#" class="forgot-password" id="forgot-password-link">Forgot password?</a>
                </div>
                
                <button type="submit" class="btn btn-primary">Login to Your Account</button>
                
                <div class="auth-footer">
                    Don't have an account? <a href="#" id="signup-link">Sign up now</a>
                </div>
            </form>
            
            <!-- Sign Up Form -->
            <form id="signup-form" style="display: none;">
                <div class="form-group">
                    <label for="signup-email">Email Address</label>
                    <input type="email" id="signup-email" class="form-control" placeholder="Enter your email">
                    <div class="error-message" id="signup-email-error">Please enter a valid email address</div>
                </div>
                
                <div class="form-group">
                    <label for="signup-username">Username</label>
                    <input type="text" id="signup-username" class="form-control" placeholder="Create a unique username">
                    <div class="error-message" id="signup-username-error">Username must be at least 4 characters</div>
                    <div class="success-message" id="signup-username-available">Username available!</div>
                </div>
                
                <div class="form-group">
                    <label for="signup-password">Password</label>
                    <div class="password-container">
                        <input type="password" id="signup-password" class="form-control" placeholder="Create a strong password">
                        <i class="toggle-password fas fa-eye" data-target="signup-password"></i>
                    </div>
                    <div class="error-message" id="signup-password-error">Password must be at least 8 characters</div>
                </div>
                
                <div class="form-group">
                    <label for="signup-confirm-password">Confirm Password</label>
                    <div class="password-container">
                        <input type="password" id="signup-confirm-password" class="form-control" placeholder="Confirm your password">
                        <i class="toggle-password fas fa-eye" data-target="signup-confirm-password"></i>
                    </div>
                    <div class="error-message" id="signup-confirm-password-error">Passwords do not match</div>
                </div>
                
                <button type="submit" class="btn btn-primary">Create Account</button>
                
                <div class="auth-footer">
                    Already have an account? <a href="#" id="login-link">Login here</a>
                </div>
            </form>
            
            <!-- Forgot Password Form -->
            <form id="forgot-password-form" style="display: none;">
                <div class="form-group">
                    <label for="reset-email">Email Address</label>
                    <input type="email" id="reset-email" class="form-control" placeholder="Enter your registered email">
                    <div class="error-message" id="reset-email-error">Please enter your registered email</div>
                    <div class="success-message" id="reset-email-success">OTP has been generated!</div>
                </div>
                
                <button type="submit" class="btn btn-primary">Generate OTP</button>
                
                <div class="auth-footer">
                    Remembered your password? <a href="#" id="back-to-login">Back to login</a>
                </div>
            </form>
            
            <!-- OTP Verification Form -->
            <form id="otp-form" style="display: none;">
                <div class="form-group">
                    <label>Enter 6-digit OTP shown in the app</label>
                    <div style="display: flex; gap: 8px; margin-bottom: 15px; justify-content: center;">
                        <input type="text" class="otp-input" maxlength="1" data-index="1" style="width: 40px; height: 50px; text-align: center; font-size: 20px; border-radius: 8px; border: 1px solid rgba(0, 0, 0, 0.2); background-color: rgba(0, 0, 0, 0.05); color: var(--light-text);">
                        <input type="text" class="otp-input" maxlength="1" data-index="2" style="width: 40px; height: 50px; text-align: center; font-size: 20px; border-radius: 8px; border: 1px solid rgba(0, 0, 0, 0.2); background-color: rgba(0, 0, 0, 0.05); color: var(--light-text);">
                        <input type="text" class="otp-input" maxlength="1" data-index="3" style="width: 40px; height: 50px; text-align: center; font-size: 20px; border-radius: 8px; border: 1px solid rgba(0, 0, 0, 0.2); background-color: rgba(0, 0, 0, 0.05); color: var(--light-text);">
                        <input type="text" class="otp-input" maxlength="1" data-index="4" style="width: 40px; height: 50px; text-align: center; font-size: 20px; border-radius: 8px; border: 1px solid rgba(0, 0, 0, 0.2); background-color: rgba(0, 0, 0, 0.05); color: var(--light-text);">
                        <input type="text" class="otp-input" maxlength="1" data-index="5" style="width: 40px; height: 50px; text-align: center; font-size: 20px; border-radius: 8px; border: 1px solid rgba(0, 0, 0, 0.2); background-color: rgba(0, 0, 0, 0.05); color: var(--light-text);">
                        <input type="text" class="otp-input" maxlength="1" data-index="6" style="width: 40px; height: 50px; text-align: center; font-size: 20px; border-radius: 8px; border: 1px solid rgba(0, 0, 0, 0.2); background-color: rgba(0, 0, 0, 0.05); color: var(--light-text);">
                    </div>
                    <div class="error-message" id="otp-error">Invalid OTP. Please try again.</div>
                    <div class="auth-footer" style="margin-top: 10px;">
                        Didn't receive OTP? <a href="#" id="resend-otp">Regenerate OTP</a>
                    </div>
                </div>
                
                <button type="submit" class="btn btn-primary">Verify OTP</button>
                
                <div class="auth-footer">
                    <a href="#" id="back-to-login-otp">Back to login</a>
                </div>
            </form>
            
            <!-- Reset Password Form -->
            <form id="reset-password-form" style="display: none;">
                <div class="form-group">
                    <label for="new-password">New Password</label>
                    <div class="password-container">
                        <input type="password" id="new-password" class="form-control" placeholder="Create a new password">
                        <i class="toggle-password fas fa-eye" data-target="new-password"></i>
                    </div>
                    <div class="error-message" id="new-password-error">Password must be at least 8 characters</div>
                </div>
                
                <div class="form-group">
                    <label for="confirm-new-password">Confirm New Password</label>
                    <div class="password-container">
                        <input type="password" id="confirm-new-password" class="form-control" placeholder="Confirm your new password">
                        <i class="toggle-password fas fa-eye" data-target="confirm-new-password"></i>
                    </div>
                    <div class="error-message" id="confirm-new-password-error">Passwords do not match</div>
                </div>
                
                <button type="submit" class="btn btn-primary">Reset Password</button>
                
                <div class="auth-footer">
                    <a href="#" id="back-to-login-reset">Back to login</a>
                </div>
            </form>
        </div>
    </div>
    
    <!-- Welcome Modal -->
    <div class="welcome-modal" id="welcome-modal">
        <div class="welcome-content">
            <h2 class="welcome-title">Welcome to InsightAtlas!</h2>
            <div class="welcome-message">
                <p>We're thrilled to have you join our community of readers. InsightAtlas is designed to help you discover life's deepest truths through transformative literature.</p>
            </div>
            
            <ul class="welcome-features">
                <li>📚 Access our exclusive collection of life-changing books</li>
                <li>🔒 Read purchased books anytime, even offline</li>
                <li>🌐 Sync your progress across all devices</li>
                <li>🎁 Get special discounts on new releases</li>
            </ul>
            
            <button class="btn-continue" id="close-welcome">Start Reading</button>
        </div>
    </div>
    
    <!-- OTP Display -->
    <div class="otp-display" id="otp-display">
        <div class="otp-display-content">
            <h3>Your Verification Code</h3>
            <div class="otp-display-code" id="otp-code-display">123456</div>
            <div class="otp-display-timer">Expires in <span id="otp-timer">00:30</span></div>
            <p style="font-size: 12px; margin-top: 10px;">For security reasons, this code will expire shortly</p>
        </div>
    </div>
    
    <!-- Tutorial Overlay -->
    <div class="tutorial-overlay" id="tutorial-overlay"></div>
    
    <!-- Tutorial Highlight -->
    <div class="tutorial-highlight" id="tutorial-highlight"></div>
    
    <!-- Payment Modal -->
    <div class="modal" id="payment-modal">
        <div class="modal-content">
            <span class="close-modal" id="close-payment-modal">&times;</span>
            <h2 class="modal-title">Complete Your Purchase</h2>
            
            <div class="account-details">
                <p><strong>Bank Name:</strong> Guaranty Trust Bank (GTB)</p>
                <p><strong>Account Name:</strong> Alake Samuel</p>
                <p><strong>Account Number:</strong> 0863542562</p>
                <!-- PRICE CHANGED TO ₦5,000 -->
                <p><strong>Payment Amount:</strong> ₦5,000</p>
            </div>
            
            <p style="margin-bottom: 15px;">
                <strong>Important:</strong> 
                <ul style="margin-left: 20px; margin-bottom: 15px;">
                    <li>Use the book name as your transaction reference</li>
                    <li>Send proof of payment to dolayinka884@gmail.com</li>
                    <li>Access will be activated within 24 hours of payment verification</li>
                </ul>
            </p>
            
            <form class="payment-form" id="payment-form">
                <label for="transaction-ref">Transaction Reference:</label>
                <input type="text" id="transaction-ref" required>
                
                <label for="payment-proof">Upload Payment Proof (Image or PDF):</label>
                <input type="file" id="payment-proof" accept="image/*,.pdf" required>
                
                <button type="submit">
                    <i class="fas fa-check-circle"></i> Submit Payment
                </button>
            </form>
        </div>
    </div>
    
    <!-- Admin Approval Modal -->
    <div class="modal" id="admin-approval-modal">
        <div class="modal-content">
            <span class="close-modal" id="close-admin-modal">&times;</span>
            <h2 class="modal-title">Admin Approval Required</h2>
            
            <p>Your payment has been received and is pending verification. Samuel will review your payment and unlock your book within 24 hours.</p>
            
            <p>You'll receive a notification when your book is unlocked.</p>
            
            <button class="btn-continue" id="understand-btn" style="margin-top: 20px;">
                I Understand
            </button>
        </div>
    </div>
    
    <!-- Delete Account Confirmation Modal -->
    <div class="modal" id="delete-account-modal">
        <div class="modal-content">
            <span class="close-modal" id="close-delete-modal">&times;</span>
            <h2 class="modal-title">Confirm Account Deletion</h2>
            
            <p style="margin-bottom: 20px; color: var(--danger); font-weight: bold;">
                Warning: This action is permanent and cannot be undone!
            </p>
            
            <p>All your data, including purchased books and reading progress, will be permanently deleted.</p>
            
            <p>Are you sure you want to delete your account?</p>
            
            <div style="display: flex; gap: 10px; margin-top: 30px;">
                <button class="btn-logout" id="cancel-delete-btn">
                    Cancel
                </button>
                <button class="btn-delete-account" id="confirm-delete-btn">
                    <i class="fas fa-trash-alt"></i> Delete Account
                </button>
            </div>
        </div>
    </div>
    
    <!-- Main App Content -->
    <div class="app-container" id="app-view">
        <header>
            <div class="container">
                <div class="header-content">
                    <div class="logo" id="logo">
                        <div class="logo-text">InsightAtlas</div>
                    </div>
                    
                    <div class="header-buttons">
                        <!-- Added premium icon back -->
                        <div class="premium-icon" id="premium-icon" title="Premium Books">
                            <i class="fas fa-crown"></i>
                        </div>
                        
                        <div class="notification-bell" id="notification-bell">
                            <i class="fas fa-bell"></i>
                            <div class="notification-badge" id="notification-badge">3</div>
                        </div>
                        <div class="user-avatar" id="user-avatar">U</div>
                    </div>
                </div>
            </div>
            
            <!-- Notification Dropdown -->
            <div class="notification-dropdown" id="notification-dropdown">
                <div class="notification-header">
                    <h3>Notifications</h3>
                    <div class="mark-all-read" id="mark-all-read">Mark all as read</div>
                </div>
                <div class="notification-item unread">
                    <div class="notification-title">New Message</div>
                    <div class="notification-message">You have a new message from Samuel about your purchase</div>
                    <div class="notification-time">10 min ago</div>
                </div>
                <div class="notification-item unread">
                    <div class="notification-title">Book Update</div>
                    <div class="notification-message">New chapter added to "The Main Reality of Life"</div>
                    <div class="notification-time">2 hours ago</div>
                </div>
                <div class="notification-item">
                    <div class="notification-title">Payment Received</div>
                    <div class="notification-message">Your payment for "The Main Reality of Life" has been approved</div>
                    <div class="notification-time">1 day ago</div>
                </div>
                <div class="notification-item">
                    <div class="notification-title">Welcome to InsightAtlas!</div>
                    <div class="notification-message">Start your reading journey with our featured books</div>
                    <div class="notification-time">3 days ago</div>
                </div>
            </div>
        </header>

        <div class="container">
            <!-- Home View -->
            <div id="home-view">
                <div class="hero-section">
                    <h1 class="hero-title">The Main Reality Of Life</h1>
                    <p class="hero-subtitle">Discover the transformative insights that will change how you experience life</p>
                </div>

                <div class="section-title">
                    <span>Featured Book</span>
                </div>
                
                <div class="book-card">
                    <div class="book-cover">
                        <div class="cover-title">The Main Reality Of Life</div>
                        <div class="cover-author">By Samuel A.O</div>
                        <!-- Book lock indicator -->
                        <div class="book-lock">
                            <i class="fas fa-lock"></i> Chapter 1 Free
                        </div>
                    </div>
                    <div class="book-info">
                        <div class="book-title">The Main Reality Of Life</div>
                        <div class="book-author">By Samuel A.O.</div>
                        <!-- PRICE CHANGED TO ₦5,000 -->
                        <div class="book-price">₦5,000</div>
                        <div class="book-actions">
                            <button class="btn-read" id="read-now-btn">
                                <i class="fas fa-book-open"></i> Read Now
                            </button>
                            <button class="btn-buy" id="buy-book-btn">
                                <i class="fas fa-shopping-cart"></i> Buy Now
                            </button>
                        </div>
                    </div>
                </div>

                <div class="section-title" style="margin-top: 40px;">
                    <span>About the Book</span>
                </div>
                
                <div class="about-section">
                    <p style="line-height: 1.6; margin-bottom: 15px;">
                        "The Main Reality Of Life" is an invitation to uncover the deeper truths that define who we are and how we experience the world. It's about stripping away illusions to see life clearly.
                    </p>
                    <p style="line-height: 1.6; margin-bottom: 15px;">
                        By the time you finish this book, you'll feel empowered to make conscious decisions that align with your truest self and step boldly into the life you are meant to live.
                    </p>
                    <p style="line-height: 1.6;">
                        This book peels back layers of the human experience and offers insights to help you live more intentionally, authentically, and fully.
                    </p>
                </div>
                
                <!-- Share Section -->
                <div class="share-section">
                    <h3 class="share-title">Share InsightAtlas with Friends</h3>
                    <div class="share-link-container">
                        <input type="text" class="share-link" id="share-link" value="https://insightatlas.app/samuel" readonly>
                        <button class="btn-copy" id="copy-link">Copy Link</button>
                    </div>
                    <p>Share this link to give friends access to InsightAtlas before it's on app stores!</p>
                    
                    <div class="share-icons">
                        <div class="share-icon whatsapp" title="Share via WhatsApp">
                            <i class="fab fa-whatsapp"></i>
                        </div>
                        <div class="share-icon facebook" title="Share on Facebook">
                            <i class="fab fa-facebook-f"></i>
                        </div>
                        <div class="share-icon twitter" title="Share on Twitter">
                            <i class="fab fa-twitter"></i>
                        </div>
                        <div class="share-icon link" title="Copy Link">
                            <i class="fas fa-link"></i>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Reader View -->
            <div class="reader-container" id="reader-view">
                <div class="reader-header">
                    <div class="reader-book-cover">
                        <div class="cover-title">The Main Reality Of Life</div>
                        <div class="cover-author">By Samuel A.O</div>
                        <!-- Book lock indicator -->
                        <div class="book-lock">
                            <i class="fas fa-lock"></i> Chapter 1 Free
                        </div>
                    </div>
                    <h1 class="reader-title">The Main Reality Of Life</h1>
                    <div class="reader-author">By Samuel A.O.</div>
                </div>
                
                <div class="reader-content" id="book-content">
                    <!-- Book content will be loaded dynamically -->
                </div>
                
                <div class="upgrade-box">
                    <h2 class="upgrade-title">Want to read the full book?</h2>
                    <!-- PRICE CHANGED TO ₦5,000 -->
                    <div class="upgrade-price">₦5,000</div>
                    <button class="btn-upgrade" id="unlock-btn">
                        <i class="fas fa-lock"></i> Unlock Full Access
                    </button>
                </div>
                
                <!-- Rating Section -->
                <div id="rating-container" style="display: none;"></div>
            </div>
            
            <!-- Settings View -->
            <div class="settings-container" id="settings-view">
                <div class="settings-section">
                    <h2 class="settings-title">Appearance</h2>
                    
                    <div class="setting-item">
                        <div class="setting-label">
                            <i class="fas fa-moon"></i>
                            <span>Dark Mode</span>
                        </div>
                        <label class="switch">
                            <input type="checkbox" id="dark-mode-toggle">
                            <span class="slider"></span>
                        </label>
                    </div>
                    
                    <div class="setting-item">
                        <div class="setting-label">
                            <i class="fas fa-font"></i>
                            <span>Text Size</span>
                        </div>
                        <select id="text-size">
                            <option value="small">Small</option>
                            <option value="medium" selected>Medium</option>
                            <option value="large">Large</option>
                        </select>
                    </div>
                </div>
                
                <div class="settings-section">
                    <h2 class="settings-title">Notifications</h2>
                    
                    <div class="setting-item">
                        <div class="setting-label">
                            <i class="fas fa-bell"></i>
                            <span>Enable Notifications</span>
                        </div>
                        <label class="switch">
                            <input type="checkbox" id="notifications-toggle" checked>
                            <span class="slider"></span>
                        </label>
                    </div>
                    
                    <div class="setting-item">
                        <div class="setting-label">
                            <i class="fas fa-book"></i>
                            <span>New Book Alerts</span>
                        </div>
                        <label class="switch">
                            <input type="checkbox" id="book-alerts-toggle" checked>
                            <span class="slider"></span>
                        </label>
                    </div>
                </div>
                
                <div class="settings-section">
                    <h2 class="settings-title">Language</h2>
                    
                    <div class="setting-item">
                        <div class="setting-label">
                            <i class="fas fa-globe"></i>
                            <span>App Language</span>
                        </div>
                        <!-- ONLY ENGLISH LANGUAGE OPTION -->
                        <select id="app-language">
                            <option value="en">English</option>
                        </select>
                    </div>
                </div>
                
                <div class="settings-section">
                    <h2 class="settings-title">Help & Support</h2>
                    
                    <div class="setting-item">
                        <div class="setting-label">
                            <i class="fas fa-question-circle"></i>
                            <span>Help Center</span>
                        </div>
                        <button class="btn-read" id="help-center-btn">
                            <i class="fas fa-external-link-alt"></i> Open
                        </button>
                    </div>
                    
                    <div class="setting-item">
                        <div class="setting-label">
                            <i class="fas fa-robot"></i>
                            <span>AI Assistant</span>
                        </div>
                        <button class="btn-read" id="ai-assistant-btn">
                            <i class="fas fa-comments"></i> Chat
                        </button>
                    </div>
                    
                    <div class="chat-container" id="chat-container" style="display: none;">
                        <div class="chat-messages" id="chat-messages">
                            <div class="message ai-message">
                                <strong>InsightAtlas Assistant</strong><br>
                                Hey there! 😊 I'm your friendly AI book buddy! Ask me anything about books, authors, or the app. I'm here to help!
                            </div>
                        </div>
                        <div class="chat-input">
                            <input type="text" id="chat-input" placeholder="Ask about books, payment, or app features...">
                            <button id="send-message-btn"><i class="fas fa-paper-plane"></i></button>
                        </div>
                    </div>
                </div>
                
                <button class="btn-logout" id="logout-btn">
                    <i class="fas fa-sign-out-alt"></i> Log Out
                </button>
                
                <!-- DELETE ACCOUNT BUTTON -->
                <button class="btn-delete-account" id="delete-account-btn">
                    <i class="fas fa-trash-alt"></i> Delete Account
                </button>
            </div>
            
            <!-- Offline View -->
            <div class="offline-container" id="offline-view">
                <div class="offline-section">
                    <h2 class="offline-title">Offline Books</h2>
                    
                    <div id="offline-content">
                        <div class="offline-empty">
                            <i class="fas fa-download"></i>
                            <h3>No available books offline</h3>
                            <p>Purchase books to read them offline</p>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Premium View -->
            <div class="premium-container" id="premium-view">
                <div class="premium-section">
                    <h2 class="premium-title">Premium Books</h2>
                    <div id="premium-content">
                        <div class="premium-empty">
                            <i class="fas fa-crown"></i>
                            <h3>No available books yet on premium price</h3>
                            <p>Kindly check back later</p>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Profile View -->
            <div class="profile-container" id="profile-view">
                <div class="profile-section">
                    <h2 class="profile-title">Your Profile</h2>
                    
                    <form class="profile-form" id="profile-form">
                        <div class="form-group">
                            <label for="username">Username</label>
                            <input type="text" id="username" value="BookLover123">
                        </div>
                        
                        <div class="form-group">
                            <label for="fullname">Full Name</label>
                            <input type="text" id="fullname" value="Samuel Reader">
                        </div>
                        
                        <div class="form-group">
                            <label for="email">Email Address</label>
                            <input type="email" id="email" value="reader@example.com">
                        </div>
                        
                        <div class="form-group">
                            <label for="phone">Phone Number</label>
                            <input type="tel" id="phone" value="+234 812 345 6789">
                        </div>
                        
                        <div class="form-group">
                            <label for="bio">Bio</label>
                            <textarea id="bio" rows="3">Passionate reader exploring life's deeper meanings</textarea>
                        </div>
                        
                        <button type="button" class="btn-save" id="save-profile-btn">
                            <i class="fas fa-save"></i> Save Changes
                        </button>
                    </form>
                </div>
                
                <div class="profile-section">
                    <h2 class="profile-title">Support Information</h2>
                    
                    <div class="setting-item">
                        <div class="setting-label">
                            <i class="fas fa-envelope"></i>
                            <span>Email Support</span>
                        </div>
                        <span>dolayinka884@gmail.com</span>
                    </div>
                    
                    <div class="setting-item">
                        <div class="setting-label">
                            <i class="fab fa-whatsapp"></i>
                            <span>WhatsApp Support</span>
                        </div>
                        <span><a href="https://wa.me/2347034969325" style="color: var(--accent);">07034969325</a></span>
                    </div>
                    
                    <div class="setting-item">
                        <div class="setting-label">
                            <i class="fas fa-headset"></i>
                            <span>Customer Support Hours</span>
                        </div>
                        <span>Mon-Fri: 9AM - 5PM</span>
                    </div>
                </div>
            </div>
        </div>

        <nav class="bottom-nav">
            <a href="#" class="nav-item active" id="nav-home">
                <i class="fas fa-home nav-icon"></i>
                <span>Home</span>
            </a>
            <a href="#" class="nav-item" id="nav-library">
                <i class="fas fa-book nav-icon"></i>
                <span>Library</span>
            </a>
            <a href="#" class="nav-item" id="nav-premium">
                <i class="fas fa-crown nav-icon"></i>
                <span>Premium</span>
            </a>
            <a href="#" class="nav-item" id="nav-offline">
                <i class="fas fa-download nav-icon"></i>
                <span>Offline</span>
            </a>
            <a href="#" class="nav-item" id="nav-settings">
                <i class="fas fa-cog nav-icon"></i>
                <span>Settings</span>
            </a>
        </nav>
    </div>

    <!-- Notification Sound -->
    <audio id="notification-sound" preload="auto">
        <source src="https://assets.mixkit.co/sfx/preview/mixkit-notification-bleep-1323.mp3" type="audio/mp3">
    </audio>

    <!-- Delete Account Sound -->
    <audio id="delete-sound" preload="auto">
        <source src="https://assets.mixkit.co/sfx/preview/mixkit-trash-falling-into-bin-389.mp3" type="audio/mp3">
    </audio>

    <script>
        // User Account Management
        const USER_ACCOUNTS_KEY = 'insightAtlasAccounts';
        const CURRENT_USER_KEY = 'insightAtlasCurrentUser';
        const PURCHASED_BOOKS_KEY = 'insightAtlasPurchasedBooks';
        const APP_LANGUAGE_KEY = 'insightAtlasAppLanguage';
        
        // Book Management
        const BOOKS_KEY = 'insightAtlasBooks';
        const CURRENT_BOOK_ID = 'main-reality';
        
        // DOM Elements
        const authView = document.getElementById('auth-view');
        const appView = document.getElementById('app-view');
        const loginForm = document.getElementById('login-form');
        const signupForm = document.getElementById('signup-form');
        const forgotPasswordForm = document.getElementById('forgot-password-form');
        const otpForm = document.getElementById('otp-form');
        const resetPasswordForm = document.getElementById('reset-password-form');
        const signupLink = document.getElementById('signup-link');
        const loginLink = document.getElementById('login-link');
        const forgotPasswordLink = document.getElementById('forgot-password-link');
        const backToLoginLinks = document.querySelectorAll('#back-to-login, #back-to-login-otp, #back-to-login-reset');
        const resendOtpLink = document.getElementById('resend-otp');
        const togglePasswordIcons = document.querySelectorAll('.toggle-password');
        const welcomeModal = document.getElementById('welcome-modal');
        const closeWelcomeBtn = document.getElementById('close-welcome');
        const userAvatar = document.getElementById('user-avatar');
        const shareLink = document.getElementById('share-link');
        const copyLinkBtn = document.getElementById('copy-link');
        const logoutBtn = document.getElementById('logout-btn');
        const deleteAccountBtn = document.getElementById('delete-account-btn');
        const notificationBell = document.getElementById('notification-bell');
        const notificationDropdown = document.getElementById('notification-dropdown');
        const markAllRead = document.getElementById('mark-all-read');
        const bookContent = document.getElementById('book-content');
        
        // OTP Display Elements
        const otpDisplay = document.getElementById('otp-display');
        const otpCodeDisplay = document.getElementById('otp-code-display');
        const otpTimerDisplay = document.getElementById('otp-timer');
        
        // Tutorial Elements
        const tutorialOverlay = document.getElementById('tutorial-overlay');
        const tutorialHighlight = document.getElementById('tutorial-highlight');
        
        // Notification Sound
        const notificationSound = document.getElementById('notification-sound');
        const deleteSound = document.getElementById('delete-sound');
        
        // Views
        const homeView = document.getElementById('home-view');
        const readerView = document.getElementById('reader-view');
        const settingsView = document.getElementById('settings-view');
        const offlineView = document.getElementById('offline-view');
        const profileView = document.getElementById('profile-view');
        const premiumView = document.getElementById('premium-view');
        
        // Navigation items
        const navHome = document.getElementById('nav-home');
        const navLibrary = document.getElementById('nav-library');
        const navPremium = document.getElementById('nav-premium');
        const navOffline = document.getElementById('nav-offline');
        const navSettings = document.getElementById('nav-settings');
        
        // Buttons
        const readNowBtn = document.getElementById('read-now-btn');
        const buyBookBtn = document.getElementById('buy-book-btn');
        const unlockBtn = document.getElementById('unlock-btn');
        const paymentModal = document.getElementById('payment-modal');
        const closePaymentModalBtn = document.getElementById('close-payment-modal');
        const paymentForm = document.getElementById('payment-form');
        const adminApprovalModal = document.getElementById('admin-approval-modal');
        const closeAdminModalBtn = document.getElementById('close-admin-modal');
        const understandBtn = document.getElementById('understand-btn');
        const deleteAccountModal = document.getElementById('delete-account-modal');
        const closeDeleteModalBtn = document.getElementById('close-delete-modal');
        const cancelDeleteBtn = document.getElementById('cancel-delete-btn');
        const confirmDeleteBtn = document.getElementById('confirm-delete-btn');
        const darkModeToggle = document.getElementById('dark-mode-toggle');
        const aiAssistantBtn = document.getElementById('ai-assistant-btn');
        const chatContainer = document.getElementById('chat-container');
        const chatMessages = document.getElementById('chat-messages');
        const chatInput = document.getElementById('chat-input');
        const sendMessageBtn = document.getElementById('send-message-btn');
        const saveProfileBtn = document.getElementById('save-profile-btn');
        const helpCenterBtn = document.getElementById('help-center-btn');
        const appLanguageSelect = document.getElementById('app-language');
        const premiumIcon = document.getElementById('premium-icon');
        
        // Load user accounts from localStorage
        let userAccounts = JSON.parse(localStorage.getItem(USER_ACCOUNTS_KEY)) || [];
        let currentUser = JSON.parse(localStorage.getItem(CURRENT_USER_KEY)) || null;
        let purchasedBooks = JSON.parse(localStorage.getItem(PURCHASED_BOOKS_KEY)) || [];
        let appLanguage = localStorage.getItem(APP_LANGUAGE_KEY) || 'en';
        let books = JSON.parse(localStorage.getItem(BOOKS_KEY)) || [];
        
        // Check if user is logged in
        if (currentUser) {
            showApp();
            updateUserAvatar();
            
            // Redirect to profile if new user
            if (currentUser.isNew) {
                showProfileView();
            }
        }
        
        // Toggle password visibility
        function togglePasswordVisibility(targetId) {
            const input = document.getElementById(targetId);
            const icon = document.querySelector(`.toggle-password[data-target="${targetId}"]`);
            
            if (input.type === 'password') {
                input.type = 'text';
                icon.classList.remove('fa-eye');
                icon.classList.add('fa-eye-slash');
            } else {
                input.type = 'password';
                icon.classList.remove('fa-eye-slash');
                icon.classList.add('fa-eye');
            }
        }
        
        // Show form and hide others
        function showForm(formId) {
            const forms = [loginForm, signupForm, forgotPasswordForm, otpForm, resetPasswordForm];
            forms.forEach(form => form.style.display = 'none');
            document.getElementById(formId).style.display = 'block';
        }
        
        // Show main app
        function showApp() {
            authView.style.display = 'none';
            appView.style.display = 'block';
            showHomeView();
        }
        
        // Show welcome modal
        function showWelcome() {
            welcomeModal.style.display = 'flex';
        }
        
        // Close welcome modal
        function closeWelcome() {
            welcomeModal.style.display = 'none';
            // Start tutorial for new users
            if (currentUser && currentUser.isNew) {
                startTutorial();
                currentUser.isNew = false;
                updateUserAccount(currentUser);
            }
        }
        
        // Update user avatar with first letter
        function updateUserAvatar() {
            if (currentUser && currentUser.username) {
                userAvatar.textContent = currentUser.username.charAt(0).toUpperCase();
            }
        }
        
        // Generate OTP
        function generateOTP() {
            return Math.floor(100000 + Math.random() * 900000).toString();
        }
        
        // Display OTP in the app
        function displayOTP(otp) {
            otpCodeDisplay.textContent = otp;
            otpDisplay.style.display = 'block';
            
            let seconds = 30;
            const timer = setInterval(() => {
                seconds--;
                const mins = Math.floor(seconds / 60).toString().padStart(2, '0');
                const secs = (seconds % 60).toString().padStart(2, '0');
                otpTimerDisplay.textContent = `${mins}:${secs}`;
                
                if (seconds <= 0) {
                    clearInterval(timer);
                    otpDisplay.style.display = 'none';
                }
            }, 1000);
        }
        
        // Verify OTP
        function verifyOTP(email, otp) {
            const storedOTP = localStorage.getItem('insightAtlasOTP');
            const storedEmail = localStorage.getItem('insightAtlasOTPEmail');
            const storedTime = localStorage.getItem('insightAtlasOTPTime');
            
            // Check if OTP is expired (5 minutes)
            if (Date.now() - storedTime > 300000) {
                return false;
            }
            
            return storedOTP === otp && storedEmail === email;
        }
        
        // Copy share link to clipboard
        function copyToClipboard(text) {
            navigator.clipboard.writeText(text).then(() => {
                alert('Link copied to clipboard!');
            }).catch(err => {
                console.error('Failed to copy: ', err);
            });
        }
        
        // Show home view
        function showHomeView() {
            hideAllViews();
            homeView.style.display = 'block';
            setActiveNav('nav-home');
        }
        
        // Show reader view
        function showReaderView() {
            hideAllViews();
            readerView.style.display = 'block';
            setActiveNav('nav-library');
            loadBookContent();
        }
        
        // Show settings view
        function showSettingsView() {
            hideAllViews();
            settingsView.style.display = 'block';
            setActiveNav('nav-settings');
        }
        
        // Show offline view
        function showOfflineView() {
            hideAllViews();
            offlineView.style.display = 'block';
            setActiveNav('nav-offline');
            renderOfflineBooks();
        }
        
        // Show premium view
        function showPremiumView() {
            hideAllViews();
            premiumView.style.display = 'block';
            setActiveNav('nav-premium');
        }
        
        // Show profile view
        function showProfileView() {
            hideAllViews();
            profileView.style.display = 'block';
            setActiveNav('nav-home');
            
            // If profile is already saved, hide the save button
            if (currentUser && currentUser.profileSaved) {
                saveProfileBtn.style.display = 'none';
                document.getElementById('username').readOnly = true;
                document.getElementById('fullname').readOnly = true;
                document.getElementById('email').readOnly = true;
                document.getElementById('phone').readOnly = true;
                document.getElementById('bio').readOnly = true;
            } else {
                saveProfileBtn.style.display = 'block';
                document.getElementById('username').readOnly = false;
                document.getElementById('fullname').readOnly = false;
                document.getElementById('email').readOnly = false;
                document.getElementById('phone').readOnly = false;
                document.getElementById('bio').readOnly = false;
            }
        }
        
        // Hide all views
        function hideAllViews() {
            homeView.style.display = 'none';
            readerView.style.display = 'none';
            settingsView.style.display = 'none';
            offlineView.style.display = 'none';
            profileView.style.display = 'none';
            premiumView.style.display = 'none';
        }
        
        // Set active navigation item
        function setActiveNav(navId) {
            const navItems = [navHome, navLibrary, navPremium, navOffline, navSettings];
            navItems.forEach(item => {
                if (item.id === navId) {
                    item.classList.add('active');
                } else {
                    item.classList.remove('active');
                }
            });
        }
        
        // Load book content
        function loadBookContent() {
            // Free content ends at "The Awakening: When the Illusion Breaks"
            const freeContent = `
                <h1>THE MAIN REALITY OF LIFE</h1>
                <h2>SAMUEL A.O</h2>
                
                <h3>APPRECIATION</h3>
                <p>Primarily, my endless thanks to God Almighty for seeing me through this journey and to my mother who gave me her full support in ways she could and I’m grateful to her.</p>
                <p>Immense gratitude to my incredible beta reader, my one and only sister. Your insightful feedback, sharp eyes, and willingness to wade through early drafts were invaluable. A huge thank you to my editor and cover designer for the stunning cover that perfectly captures the spirit of the book.</p>
                <p>To my dear friends, Oluwaseyifunmitan and Oluwashindara, thank you for the pep talks, and listening ears.</p>
                <p>Finally, to you the reader, for picking up this book and stepping into this world. I hope it brings you as much joy as writing it brought me. I love you all and enjoy and be impacted as you read.</p>
                
                <h3>INDEX</h3>
                <p>Chapter 1: The Illusion Vs The Reality</p>
                <p>Chapter 2: Pain Has A Purpose</p>
                <p>Chapter 3: Your Choices, Your Life</p>
                <p>Chapter 4: The people In Your Boat</p>
                <p>Chapter 5: The Truth About Failure</p>
                <p>Chapter 6: The Decision That Defines You</p>
                <p>Chapter 7: The Silent battles We Fight</p>
                <p>Chapter 8: The Power Of Belief - What Shapes Your Reality</p>
                <p>Chapter 9: Taking The Leap - From Belief To Action</p>
                <p>Chapter 10: The Journey Ahead - Living Your Main Reality</p>
                
                <h3>INTRODUCTION</h3>
                <p><strong>Stepping Into Your Main Reality.</strong></p>
                <p>Life is a complex journey filled with moments of clarity and confusion, joy and pain, certainty, and doubt. We all navigate a world layered with illusions, stories we tell ourselves and narratives shaped by others. But beneath those layers lies a deeper truth: a main reality that defines who we are and how we experience the world. This book is an invitation to uncover that main reality.</p>
                <p>It’s about stripping away illusions to see life clearly.</p>
                <p>It’s about embracing pain as a teacher, not an enemy.</p>
                <p>It’s about understanding that your choices shape your destiny.</p>
                <p>It’s about surrounding yourself with the right people who support your journey.</p>
                <p>It’s about redefining failure as a stepping stone to growth.</p>
                <p>It’s about recognizing the power of belief and then moving beyond belief into courageous action.</p>
                <p>Each chapter in this book peels back a layer of the human experience and offers insights to help you live more intentionally, authentically, and fully. The reality of life is not something that simply happens to you, it’s something you create moment by moment.</p>
                <p>By the time you finish this book, my hope is that you’ll feel empowered to make conscious decisions that align with your truest self and step boldly into the life you are meant to live.</p>
                <p>This is your journey. This is your main reality. Let’s begin.</p>
                
                <h3>MONOLOGUE</h3>
                <p>I want you to stop for a moment. Just pause and breathe. Look around you. Look inside you.</p>
                <p>How often do you feel truly seen? Utterly understood? Truly alive?</p>
                <p>Life isn’t always what it seems, is it?</p>
                <p>So much of what we chase—success, approval, comfort—feels just out of reach.</p>
                <p>We get lost in stories we tell ourselves, in masks we wear, in voices that aren’t really ours.</p>
                <p>But beneath all that noise, beneath all that struggle, there is something real. Something steady. Something waiting for you to discover it.</p>
                <p>Your main reality.</p>
                <p>It’s not about perfection. It’s not about never falling. It’s about standing up, repeatedly, with clarity and courage.</p>
                <p>It’s about knowing that your pain, your failures, your choices—they matter. They shape the life only you can live.</p>
                <p>This book isn’t about giving you answers. It’s about inviting you to ask better questions. To see more clearly. To live more fully.</p>
                <p>Because the truth is, the power to create your reality is in your hands.</p>
                <p>And I’m here to walk beside you, through the illusions, the pain, and the fears toward the life you were meant to live.</p>
                <p>Are you ready?</p>
                
                <h1>Chapter 1: The Illusion vs. The Reality</h1>
                <p>"Everyone is chasing something — success, love, validation, peace. But few stop to ask: What am I really chasing, and why?"</p>
                <p>From the moment we’re born, we’re introduced to a script, not handed to us directly but absorbed through the voices and expectations of those around us. Our parents, our teachers, our culture, even the movies and music we consume, all play a part in painting a picture of how life should be. We’re told: "Do this, and you’ll be happy. Avoid that, and you’ll be safe. Achieve these things, and your life will be meaningful."</p>
                <p>It’s not all bad. These ideals often come from a place of care, from people who want the best for us. But over time, many of us come to realize something unsettling: the life we were taught to expect doesn’t always match the one we experience.</p>
                <p>Some people realize this early perhaps in childhood, when their family struggled financially, or when they saw loved ones fighting battles no one talked about. Others experience it much later, perhaps after achieving the very things they thought would bring joy, only to feel emptier than before.</p>
                <p>The truth? Life doesn’t always deliver what it promises.</p>
                <p>And that’s not because life is cruel… it’s because the promises weren’t real to begin with.</p>
                
                <h2>The Dream We’re Sold</h2>
                <p>It starts with a narrative — simple, idealistic, and appealing.</p>
                <p>Get an education, and you’ll be successful. Be nice to others, and they’ll be nice in return. Fall in love, and everything will fall into place. If you work hard, life will reward you. If you avoid mistakes, you’ll avoid pain. But then real life begins to unfold. You study hard, but the job doesn’t come. You love someone, but they don’t love you back. You give your all, but it’s not enough. You do everything "right," yet still feel like everything is going wrong. This disconnect between expectation and reality is one of the main sources of frustration and pain in people’s lives. We suffer not just because life is difficult but because we were led to believe it wouldn’t be.</p>
                <p>We’re sold a dream, and when the dream starts to crumble, we often assume the problem is us.</p>
                <p>"Maybe I’m not good enough."</p>
                <p>"Maybe I’m cursed."</p>
                <p>"Maybe I made the wrong choices."</p>
                <p>But maybe… nothing’s wrong at all. Maybe you’ve just reached the point where life starts getting real.</p>
                
                <h2>The Awakening: When the Illusion Breaks</h2>
            `;
            
            const fullContent = freeContent + `
                <p>Let me tell you a story.</p>
                <p>There was a young man named Dayo. In secondary school, he was the star. Top of his class, respectful, obedient, hopeful. Teachers said he was destined for greatness. His parents invested all they had in his education. Dayo believed, as many did, that life was linear: input equals’ output. But life didn’t go as planned. He didn’t get the scholarship. His business failed. Friends drifted. He sank into depression, ashamed to talk to anyone. He kept asking, "What did I do wrong?". The turning point came not from success, but from surrender. One day, he simply sat in silence and asked a different question: "What if this is just life?"</p>
                <p>Not punishment. Not failure. Just… life.</p>
                <p>That question freed him. He began to detach his self-worth from his circumstances. He stopped judging himself by timelines or societal milestones. He started living with curiosity rather than control. He took small steps - volunteering, writing, learning new skills, not because it guaranteed success, but because it felt true.</p>
                <p>And slowly, his life took on new meaning - one based, not illusion.</p>
                
                <h1>Facing the First Reality: Life Owes You Nothing</h1>
                <p>This might be hard to accept, but it’s also the most liberating truth:</p>
                <p>[ Life doesn’t owe you anything — not happiness, not fairness, not guarantees.]</p>
                <p>It’s a truth many avoid because it sounds cold or harsh. But when you really think about it, this is where freedom begins. Because if life owes you nothing, then anything you receive, love, kindness, peace, even struggle becomes something to learn from, not something to cling to or expect. You stop seeing pain as punishment and start seeing it as part of the process. You stop comparing timelines and start focusing on alignment with yourself, your values, your growth. This doesn’t mean you should settle or stop striving. It means your efforts are no longer fuelled by entitlement, but by intention.</p>
                
                <!-- ... (remaining chapters) ... -->
                
                <h1>Chapter 10: The Journey Ahead — Living Your Main Reality</h1>
                <p>The End is Just the Beginning</p>
                <p>As we reach the final chapter of this exploration into The Main Reality Of Life, it’s important to recognize that this is not an ending it’s a new beginning. The insights, lessons, and reflections shared throughout these pages are seeds planted in your mind and heart. How you choose to nurture them will determine the reality you create moving forward.</p>
                <p>The journey of life is ongoing and ever-changing. There will be new challenges, fresh opportunities, moments of doubt, and bursts of joy. What you now understand about life’s main reality will serve as a compass, guiding you through storms and sunshine alike.</p>
                
                <!-- ... (remaining content) ... -->
                
                <h2>ABOUT THE AUTHOR</h2>
                <p>Samuel A.O. is currently a student of Ekiti State University in the department of Statistics. He’s currently an upcoming writer and has decided to allow his passion flow. He authored this book with the full mindset of educating people more about life and what life entails. This book was an inspiration viewed by some of the tragic and sad things people do all in the name of life is not treating them as they anticipated. Take your time, read this book and be more enlighten on the affairs of life.</p>
                
                <!-- Rating Section -->
                <div class="rating-section">
                    <h3 class="rating-title">Rate this Book</h3>
                    <div class="rating-stars">
                        <span class="star" data-value="1"><i class="far fa-star"></i></span>
                        <span class="star" data-value="2"><i class="far fa-star"></i></span>
                        <span class="star" data-value="3"><i class="far fa-star"></i></span>
                        <span class="star" data-value="4"><i class="far fa-star"></i></span>
                        <span class="star" data-value="5"><i class="far fa-star"></i></span>
                    </div>
                    <textarea class="rating-comment" placeholder="Share your thoughts about this book..."></textarea>
                    <button class="btn-submit-rating">Submit Review</button>
                    <div class="thank-you-message">Thank you for your feedback!</div>
                </div>
            `;
            
            if (hasBookAccess(CURRENT_BOOK_ID)) {
                bookContent.innerHTML = fullContent;
                document.querySelector('.upgrade-box').style.display = 'none';
            } else {
                bookContent.innerHTML = freeContent;
                document.querySelector('.upgrade-box').style.display = 'block';
            }
            
            // Add event listeners for rating stars
            document.querySelectorAll('.star')?.forEach(star => {
                star.addEventListener('click', function() {
                    const value = this.dataset.value;
                    document.querySelectorAll('.star').forEach((s, i) => {
                        if (i < value) {
                            s.innerHTML = '<i class="fas fa-star"></i>';
                            s.classList.add('active');
                        } else {
                            s.innerHTML = '<i class="far fa-star"></i>';
                            s.classList.remove('active');
                        }
                    });
                });
            });
            
            // Submit rating
            document.querySelector('.btn-submit-rating')?.addEventListener('click', function() {
                const rating = document.querySelectorAll('.star.active').length;
                const comment = document.querySelector('.rating-comment').value;
                
                if (rating === 0) {
                    alert('Please select a rating');
                    return;
                }
                
                // Save to localStorage (in real app, send to server)
                const review = {
                    bookId: CURRENT_BOOK_ID,
                    userId: currentUser.email,
                    rating,
                    comment,
                    date: new Date().toISOString()
                };
                
                // Save review
                const reviews = JSON.parse(localStorage.getItem('bookReviews')) || [];
                reviews.push(review);
                localStorage.setItem('bookReviews', JSON.stringify(reviews));
                
                // Show thank you message
                document.querySelector('.thank-you-message').style.display = 'block';
                
                // Disable form
                document.querySelector('.btn-submit-rating').disabled = true;
                document.querySelector('.rating-comment').disabled = true;
                document.querySelectorAll('.star').forEach(star => {
                    star.style.pointerEvents = 'none';
                });
            });
        }
        
        // Check if user has access to the book
        function hasBookAccess(bookId) {
            return purchasedBooks.includes(bookId);
        }
        
        // Save user account
        function saveUserAccount(user) {
            const existingUserIndex = userAccounts.findIndex(acc => acc.email === user.email);
            if (existingUserIndex !== -1) {
                userAccounts[existingUserIndex] = user;
            } else {
                userAccounts.push(user);
            }
            localStorage.setItem(USER_ACCOUNTS_KEY, JSON.stringify(userAccounts));
        }
        
        // Update user account
        function updateUserAccount(user) {
            saveUserAccount(user);
            localStorage.setItem(CURRENT_USER_KEY, JSON.stringify(user));
        }
        
        // Render offline books
        function renderOfflineBooks() {
            const offlineContent = document.getElementById('offline-content');
            if (purchasedBooks.length === 0) {
                offlineContent.innerHTML = `
                    <div class="offline-empty">
                        <i class="fas fa-download"></i>
                        <h3>No available books offline</h3>
                        <p>Purchase books to read them offline</p>
                    </div>
                `;
            } else {
                // Render purchased books
                offlineContent.innerHTML = `
                    <div class="offline-book-list">
                        ${purchasedBooks.map(bookId => `
                            <div class="offline-book-item">
                                <div class="offline-book-cover">
                                    <div class="cover-title">${bookId === CURRENT_BOOK_ID ? 'The Main Reality Of Life' : 'Book'}</div>
                                </div>
                                <div class="offline-book-title">${bookId === CURRENT_BOOK_ID ? 'The Main Reality Of Life' : 'Book'}</div>
                                <div class="offline-book-author">By Samuel A.O.</div>
                                <button class="btn-read">Read</button>
                            </div>
                        `).join('')}
                    </div>
                `;
            }
        }
        
        // AI Assistant responses
        function getAIResponse(message) {
            const lowerMessage = message.toLowerCase();
            
            // Greetings
            if (lowerMessage.includes('hi') || lowerMessage.includes('hello') || lowerMessage.includes('hey')) {
                return "Hey there! 😊 How can I help you today? Got any questions about books or the app?";
            }
            
            // Book-related questions
            if (lowerMessage.includes('book') || lowerMessage.includes('read')) {
                if (lowerMessage.includes('price') || lowerMessage.includes('cost') || lowerMessage.includes('buy')) {
                    return "The Main Reality of Life is currently priced at ₦5,000. It's a one-time payment that gives you lifetime access! 💰📚";
                }
                if (lowerMessage.includes('content') || lowerMessage.includes('about') || lowerMessage.includes('what')) {
                    return "This book explores life's deepest truths! It covers topics like illusions vs reality, the purpose of pain, and how your choices shape your life. Super insightful stuff! 🤔✨";
                }
                if (lowerMessage.includes('author') || lowerMessage.includes('samuel')) {
                    return "Samuel A.O. is a talented writer currently studying Statistics at Ekiti State University. He created this book to help people understand life's deeper meanings. Pretty cool, right? 😎";
                }
                if (lowerMessage.includes('long') || lowerMessage.includes('pages') || lowerMessage.includes('length')) {
                    return "The book has 10 chapters packed with wisdom! Each chapter is a quick read but full of insights you'll want to reflect on. Quality over quantity! 📖✨";
                }
                return "Our featured book 'The Main Reality of Life' is a transformative journey! It helps you see life more clearly and live more intentionally. Definitely worth checking out! 🌟";
            }
            
            // Payment questions
            if (lowerMessage.includes('pay') || lowerMessage.includes('purchase') || lowerMessage.includes('buy')) {
                return "To buy a book, just tap the 'Buy Now' button! You'll need to send ₦5,000 to our GTB account and email the proof to dolayinka884@gmail.com. Easy peasy! 💳📧";
            }
            
            // Account questions
            if (lowerMessage.includes('account') || lowerMessage.includes('profile')) {
                return "You can update your profile info anytime in the Profile section! Just tap your avatar in the top right corner. 👤✏️";
            }
            
            // App features
            if (lowerMessage.includes('feature') || lowerMessage.includes('offline') || lowerMessage.includes('download')) {
                return "Once you purchase a book, you can download it for offline reading! Perfect for when you're on the go without internet. 📱🚀";
            }
            
            // Support
            if (lowerMessage.includes('help') || lowerMessage.includes('support') || lowerMessage.includes('problem')) {
                return "No worries! You can email dolayinka884@gmail.com or WhatsApp 07034969325. Our support team is available Mon-Fri, 9AM-5PM. We've got your back! 🤝🛟";
            }
            
            // Default fun response
            const funResponses = [
                "Books are like magic portals! Where do you want to go today? 🧙‍♂️📚",
                "Life's too short to read boring books! 😜 What's on your mind?",
                "I'm all ears! Well... all algorithms anyway. What book question can I help with? 🤖📖",
                "Reading is my cardio! What book adventure shall we go on today? 🏃‍♂️💨",
                "Fun fact: Reading just 6 mins a day reduces stress by 68%! What shall we read today? 😌📚"
            ];
            
            return funResponses[Math.floor(Math.random() * funResponses.length)];
        }
        
        // Initialize the app
        document.addEventListener('DOMContentLoaded', function() {
            // Toggle password visibility
            togglePasswordIcons.forEach(icon => {
                icon.addEventListener('click', function() {
                    const targetId = this.getAttribute('data-target');
                    togglePasswordVisibility(targetId);
                });
            });
            
            // Switch between forms
            signupLink.addEventListener('click', function(e) {
                e.preventDefault();
                showForm('signup-form');
            });
            
            loginLink.addEventListener('click', function(e) {
                e.preventDefault();
                showForm('login-form');
            });
            
            forgotPasswordLink.addEventListener('click', function(e) {
                e.preventDefault();
                showForm('forgot-password-form');
            });
            
            backToLoginLinks.forEach(link => {
                link.addEventListener('click', function(e) {
                    e.preventDefault();
                    showForm('login-form');
                });
            });
            
            resendOtpLink.addEventListener('click', function(e) {
                e.preventDefault();
                const email = localStorage.getItem('insightAtlasOTPEmail');
                if (email) {
                    generateAndStoreOTP(email);
                }
            });
            
            // Login form submission
            loginForm.addEventListener('submit', function(e) {
                e.preventDefault();
                const username = document.getElementById('login-username').value;
                const password = document.getElementById('login-password').value;
                
                const user = userAccounts.find(acc => 
                    acc.username === username && acc.password === password
                );
                
                if (user) {
                    currentUser = user;
                    localStorage.setItem(CURRENT_USER_KEY, JSON.stringify(currentUser));
                    showApp();
                    showWelcome();
                } else {
                    alert('Invalid username or password');
                }
            });
            
            // Signup form submission
            signupForm.addEventListener('submit', function(e) {
                e.preventDefault();
                const email = document.getElementById('signup-email').value;
                const username = document.getElementById('signup-username').value;
                const password = document.getElementById('signup-password').value;
                const confirmPassword = document.getElementById('signup-confirm-password').value;
                
                if (password !== confirmPassword) {
                    alert('Passwords do not match');
                    return;
                }
                
                if (userAccounts.some(acc => acc.email === email)) {
                    alert('Email already registered');
                    return;
                }
                
                if (userAccounts.some(acc => acc.username === username)) {
                    alert('Username already taken');
                    return;
                }
                
                const newUser = {
                    email,
                    username,
                    password,
                    isNew: true,
                    createdAt: new Date().toISOString()
                };
                
                userAccounts.push(newUser);
                saveUserAccount(newUser);
                currentUser = newUser;
                localStorage.setItem(CURRENT_USER_KEY, JSON.stringify(currentUser));
                showApp();
                showWelcome();
            });
            
            // Forgot password form submission
            forgotPasswordForm.addEventListener('submit', function(e) {
                e.preventDefault();
                const email = document.getElementById('reset-email').value.trim();
                
                if (!email) {
                    document.getElementById('reset-email-error').style.display = 'block';
                    return;
                }
                
                // Check if email is registered
                const userExists = userAccounts.some(acc => acc.email === email);
                if (!userExists) {
                    document.getElementById('reset-email-error').textContent = 'Email not registered';
                    document.getElementById('reset-email-error').style.display = 'block';
                    return;
                }
                
                generateAndStoreOTP(email);
                showForm('otp-form');
            });
            
            // Generate and store OTP
            function generateAndStoreOTP(email) {
                const otp = generateOTP();
                localStorage.setItem('insightAtlasOTP', otp);
                localStorage.setItem('insightAtlasOTPEmail', email);
                localStorage.setItem('insightAtlasOTPTime', Date.now());
                displayOTP(otp);
            }
            
            // OTP form submission
            otpForm.addEventListener('submit', function(e) {
                e.preventDefault();
                const otpInputs = document.querySelectorAll('.otp-input');
                let otpValue = '';
                otpInputs.forEach(input => {
                    otpValue += input.value;
                });
                
                const email = localStorage.getItem('insightAtlasOTPEmail');
                if (verifyOTP(email, otpValue)) {
                    showForm('reset-password-form');
                } else {
                    document.getElementById('otp-error').style.display = 'block';
                }
            });
            
            // Reset password form submission
            resetPasswordForm.addEventListener('submit', function(e) {
                e.preventDefault();
                const newPassword = document.getElementById('new-password').value;
                const confirmPassword = document.getElementById('confirm-new-password').value;
                
                if (newPassword !== confirmPassword) {
                    document.getElementById('confirm-new-password-error').style.display = 'block';
                    return;
                }
                
                const email = localStorage.getItem('insightAtlasOTPEmail');
                const userIndex = userAccounts.findIndex(acc => acc.email === email);
                if (userIndex !== -1) {
                    userAccounts[userIndex].password = newPassword;
                    saveUserAccount(userAccounts[userIndex]);
                    alert('Password reset successfully');
                    showForm('login-form');
                }
            });
            
            // Close welcome modal
            closeWelcomeBtn.addEventListener('click', closeWelcome);
            
            // Copy share link
            copyLinkBtn.addEventListener('click', function() {
                copyToClipboard(shareLink.value);
            });
            
            // Logout
            logoutBtn.addEventListener('click', function() {
                localStorage.removeItem(CURRENT_USER_KEY);
                currentUser = null;
                appView.style.display = 'none';
                authView.style.display = 'flex';
                showForm('login-form');
            });
            
            // Delete account
            deleteAccountBtn.addEventListener('click', function() {
                deleteAccountModal.style.display = 'flex';
            });
            
            cancelDeleteBtn.addEventListener('click', function() {
                deleteAccountModal.style.display = 'none';
            });
            
            confirmDeleteBtn.addEventListener('click', function() {
                if (currentUser) {
                    // Remove user from accounts
                    userAccounts = userAccounts.filter(acc => acc.email !== currentUser.email);
                    localStorage.setItem(USER_ACCOUNTS_KEY, JSON.stringify(userAccounts));
                    
                    // Remove purchased books
                    purchasedBooks = purchasedBooks.filter(book => false);
                    localStorage.setItem(PURCHASED_BOOKS_KEY, JSON.stringify(purchasedBooks));
                    
                    // Clear current user
                    localStorage.removeItem(CURRENT_USER_KEY);
                    currentUser = null;
                    
                    // Play delete sound
                    deleteSound.play();
                    
                    // Hide app and show auth
                    appView.style.display = 'none';
                    authView.style.display = 'flex';
                    deleteAccountModal.style.display = 'none';
                    showForm('login-form');
                }
            });
            
            // Close modals
            closePaymentModalBtn.addEventListener('click', function() {
                paymentModal.style.display = 'none';
            });
            
            closeAdminModalBtn.addEventListener('click', function() {
                adminApprovalModal.style.display = 'none';
            });
            
            closeDeleteModalBtn.addEventListener('click', function() {
                deleteAccountModal.style.display = 'none';
            });
            
            // Navigation
            navHome.addEventListener('click', function(e) {
                e.preventDefault();
                showHomeView();
            });
            
            navLibrary.addEventListener('click', function(e) {
                e.preventDefault();
                showReaderView();
            });
            
            navOffline.addEventListener('click', function(e) {
                e.preventDefault();
                showOfflineView();
            });
            
            navSettings.addEventListener('click', function(e) {
                e.preventDefault();
                showSettingsView();
            });
            
            navPremium.addEventListener('click', function(e) {
                e.preventDefault();
                showPremiumView();
            });
            
            premiumIcon.addEventListener('click', function(e) {
                e.preventDefault();
                showPremiumView();
            });
            
            userAvatar.addEventListener('click', function() {
                showProfileView();
            });
            
            // Read book
            readNowBtn.addEventListener('click', function() {
                showReaderView();
            });
            
            // Buy book - ensure payment modal appears immediately
            buyBookBtn.addEventListener('click', function() {
                window.scrollTo(0, 0);
                paymentModal.style.display = 'flex';
            });
            
            // Unlock book - ensure payment modal appears immediately
            unlockBtn.addEventListener('click', function() {
                window.scrollTo(0, 0);
                paymentModal.style.display = 'flex';
            });
            
            // Submit payment
            paymentForm.addEventListener('submit', function(e) {
                e.preventDefault();
                paymentModal.style.display = 'none';
                adminApprovalModal.style.display = 'flex';
            });
            
            understandBtn.addEventListener('click', function() {
                adminApprovalModal.style.display = 'none';
            });
            
            // Toggle dark mode
            darkModeToggle.addEventListener('change', function() {
                document.body.classList.toggle('dark-mode', this.checked);
                localStorage.setItem('darkModeEnabled', this.checked);
            });
            
            // Initialize dark mode
            const darkModeEnabled = localStorage.getItem('darkModeEnabled') === 'true';
            document.body.classList.toggle('dark-mode', darkModeEnabled);
            darkModeToggle.checked = darkModeEnabled;
            
            // Notification bell
            notificationBell.addEventListener('click', function() {
                notificationDropdown.style.display = notificationDropdown.style.display === 'block' ? 'none' : 'block';
            });
            
            // Mark all as read
            markAllRead.addEventListener('click', function() {
                document.querySelectorAll('.notification-item.unread').forEach(item => {
                    item.classList.remove('unread');
                });
                document.getElementById('notification-badge').textContent = '0';
            });
            
            // Save profile
            saveProfileBtn.addEventListener('click', function() {
                currentUser.username = document.getElementById('username').value;
                currentUser.fullname = document.getElementById('fullname').value;
                currentUser.email = document.getElementById('email').value;
                currentUser.phone = document.getElementById('phone').value;
                currentUser.bio = document.getElementById('bio').value;
                currentUser.profileSaved = true;
                updateUserAccount(currentUser);
                alert('Profile saved successfully');
            });
            
            // AI Assistant
            aiAssistantBtn.addEventListener('click', function() {
                chatContainer.style.display = chatContainer.style.display === 'block' ? 'none' : 'block';
            });
            
            // Send message
            sendMessageBtn.addEventListener('click', function() {
                const message = chatInput.value.trim();
                if (message) {
                    // Add user message
                    const userMessage = document.createElement('div');
                    userMessage.classList.add('message', 'user-message');
                    userMessage.textContent = message;
                    chatMessages.appendChild(userMessage);
                    
                    // Clear input
                    chatInput.value = '';
                    
                    // Scroll to bottom
                    chatMessages.scrollTop = chatMessages.scrollHeight;
                    
                    // Get AI response
                    setTimeout(() => {
                        const aiMessage = document.createElement('div');
                        aiMessage.classList.add('message', 'ai-message');
                        aiMessage.innerHTML = `<strong>InsightAtlas Assistant</strong><br>${getAIResponse(message)}`;
                        chatMessages.appendChild(aiMessage);
                        
                        // Scroll to bottom
                        chatMessages.scrollTop = chatMessages.scrollHeight;
                    }, 1000);
                }
            });
            
            // Open help center
            helpCenterBtn.addEventListener('click', function() {
                window.open('mailto:dolayinka884@gmail.com', '_blank');
            });
            
            // Set app language
            appLanguageSelect.value = appLanguage;
            appLanguageSelect.addEventListener('change', function() {
                appLanguage = this.value;
                localStorage.setItem(APP_LANGUAGE_KEY, appLanguage);
            });
        });
    </script>
</body>
</html>
